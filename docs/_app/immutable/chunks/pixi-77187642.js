import{s as K,R as Y,a as pa,D as _a,r as bt,T as Dr,E as Hr,i as Ge,b as vt,U as Ce,P as Z,c as Qa,d as Ne,C as Jr,e as U,u as Kt,f as V,F as $,B as q,M as va,A as Mr,g as ma,V as Qr,h as Qt,j as ga,p as ts,k as ya,O as Ta,l as te,m as xt,S as Ht,n as Ue,G as ba,o as Mt,q as es,t as tr,v as W,W as kt,w as ti,x as ei,y as Bt,z as rs,H as Pe,I as is,J as ns,K as as,L as ss,N as xa,Q as Xt,X as Ia,Y as Pa,Z as os,_ as hs,$ as Ra,a0 as Ea,a1 as Ca,a2 as us,a3 as Na,a4 as ls,a5 as Et,a6 as Aa,a7 as wa,a8 as Ct,a9 as fs,aa as cs}from"./core-227cabec.js";import{A as pu,ac as _u,ad as vu,ae as mu,af as gu,ag as yu,l as Tu,b1 as bu,b2 as xu,ah as Iu,ai as Pu,B as Ru,w as Eu,z as Cu,aj as Nu,a9 as Au,ak as wu,al as Ou,x as Uu,o as Su,g as Gu,b3 as Lu,am as Fu,J as Bu,an as Xu,ao as Du,D as Hu,y as Mu,b4 as ku,K as Vu,F as ju,a5 as Yu,ap as zu,aq as Wu,ar as $u,as as qu,b5 as Ku,at as Zu,au as Ju,av as Qu,G as tl,aw as el,ax as rl,ay as il,az as nl,aA as al,b6 as sl,M as ol,b7 as hl,aB as ul,aC as ll,m as fl,O as cl,X as dl,t as pl,b8 as _l,P as vl,H as ml,a3 as gl,aD as yl,aE as Tl,a2 as bl,a as xl,b9 as Il,R as Pl,d as Rl,aF as El,aG as Cl,a8 as Nl,aH as Al,I as wl,be as Ol,ba as Ul,bb as Sl,v as Gl,aI as Ll,aJ as Fl,S as Bl,aK as Xl,aL as Dl,n as Hl,aM as Ml,aN as kl,aO as Vl,bc as jl,f as Yl,e as zl,aP as Wl,a1 as $l,aQ as ql,aR as Kl,b as Zl,aa as Jl,T as Ql,U as tf,L as ef,aS as rf,V as nf,W as af,c as sf,aT as of,aU as hf,aV as uf,a6 as lf,a4 as ff,aW as cf,aX as df,aY as pf,aZ as _f,bd as vf,i as mf,a_ as gf,s as yf,a$ as Tf,b0 as bf,ab as xf}from"./core-227cabec.js";function ds(t){var r=this.constructor;return this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){return r.reject(e)})})}function ps(t){var r=this;return new r(function(e,i){if(!(t&&typeof t.length<"u"))return i(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var a=n.length;function s(u,h){if(h&&(typeof h=="object"||typeof h=="function")){var l=h.then;if(typeof l=="function"){l.call(h,function(d){s(u,d)},function(d){n[u]={status:"rejected",reason:d},--a===0&&e(n)});return}}n[u]={status:"fulfilled",value:h},--a===0&&e(n)}for(var o=0;o<n.length;o++)s(o,n[o])})}var _s=setTimeout;function Oa(t){return Boolean(t&&typeof t.length<"u")}function vs(){}function ms(t,r){return function(){t.apply(r,arguments)}}function M(t){if(!(this instanceof M))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Sa(t,this)}function Ua(t,r){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(r);return}t._handled=!0,M._immediateFn(function(){var e=t._state===1?r.onFulfilled:r.onRejected;if(e===null){(t._state===1?er:ee)(r.promise,t._value);return}var i;try{i=e(t._value)}catch(n){ee(r.promise,n);return}er(r.promise,i)})}function er(t,r){try{if(r===t)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(typeof r=="object"||typeof r=="function")){var e=r.then;if(r instanceof M){t._state=3,t._value=r,rr(t);return}else if(typeof e=="function"){Sa(ms(e,r),t);return}}t._state=1,t._value=r,rr(t)}catch(i){ee(t,i)}}function ee(t,r){t._state=2,t._value=r,rr(t)}function rr(t){t._state===2&&t._deferreds.length===0&&M._immediateFn(function(){t._handled||M._unhandledRejectionFn(t._value)});for(var r=0,e=t._deferreds.length;r<e;r++)Ua(t,t._deferreds[r]);t._deferreds=null}function gs(t,r,e){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof r=="function"?r:null,this.promise=e}function Sa(t,r){var e=!1;try{t(function(i){e||(e=!0,er(r,i))},function(i){e||(e=!0,ee(r,i))})}catch(i){if(e)return;e=!0,ee(r,i)}}M.prototype.catch=function(t){return this.then(null,t)};M.prototype.then=function(t,r){var e=new this.constructor(vs);return Ua(this,new gs(t,r,e)),e};M.prototype.finally=ds;M.all=function(t){return new M(function(r,e){if(!Oa(t))return e(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var n=i.length;function a(o,u){try{if(u&&(typeof u=="object"||typeof u=="function")){var h=u.then;if(typeof h=="function"){h.call(u,function(l){a(o,l)},e);return}}i[o]=u,--n===0&&r(i)}catch(l){e(l)}}for(var s=0;s<i.length;s++)a(s,i[s])})};M.allSettled=ps;M.resolve=function(t){return t&&typeof t=="object"&&t.constructor===M?t:new M(function(r){r(t)})};M.reject=function(t){return new M(function(r,e){e(t)})};M.race=function(t){return new M(function(r,e){if(!Oa(t))return e(new TypeError("Promise.race accepts an array"));for(var i=0,n=t.length;i<n;i++)M.resolve(t[i]).then(r,e)})};M._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){_s(t,0)};M._unhandledRejectionFn=function(r){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ri=Object.getOwnPropertySymbols,ys=Object.prototype.hasOwnProperty,Ts=Object.prototype.propertyIsEnumerable;function bs(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function xs(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var r={},e=0;e<10;e++)r["_"+String.fromCharCode(e)]=e;var i=Object.getOwnPropertyNames(r).map(function(a){return r[a]});if(i.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(a){n[a]=a}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Is=xs()?Object.assign:function(t,r){for(var e,i=bs(t),n,a=1;a<arguments.length;a++){e=Object(arguments[a]);for(var s in e)ys.call(e,s)&&(i[s]=e[s]);if(ri){n=ri(e);for(var o=0;o<n.length;o++)Ts.call(e,n[o])&&(i[n[o]]=e[n[o]])}}return i};/*!
 * @pixi/polyfill - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=M);Object.assign||(Object.assign=Is);var Ps=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var Rs=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-Rs}}var Le=Date.now(),ii=["ms","moz","webkit","o"];for(var Fe=0;Fe<ii.length&&!globalThis.requestAnimationFrame;++Fe){var Be=ii[Fe];globalThis.requestAnimationFrame=globalThis[Be+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[Be+"CancelAnimationFrame"]||globalThis[Be+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var r=Date.now(),e=Ps+Le-r;return e<0&&(e=0),Le=r,globalThis.self.setTimeout(function(){Le=Date.now(),t(performance.now())},e)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(r){return r=Number(r),r===0||isNaN(r)?r:r>0?1:-1});Number.isInteger||(Number.isInteger=function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */K.SORTABLE_CHILDREN=!1;var re=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(r){return this.minX>this.maxX||this.minY>this.maxY?Y.EMPTY:(r=r||new Y(0,0,1,1),r.x=this.minX,r.y=this.minY,r.width=this.maxX-this.minX,r.height=this.maxY-this.minY,r)},t.prototype.addPoint=function(r){this.minX=Math.min(this.minX,r.x),this.maxX=Math.max(this.maxX,r.x),this.minY=Math.min(this.minY,r.y),this.maxY=Math.max(this.maxY,r.y)},t.prototype.addPointMatrix=function(r,e){var i=r.a,n=r.b,a=r.c,s=r.d,o=r.tx,u=r.ty,h=i*e.x+a*e.y+o,l=n*e.x+s*e.y+u;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,l),this.maxY=Math.max(this.maxY,l)},t.prototype.addQuad=function(r){var e=this.minX,i=this.minY,n=this.maxX,a=this.maxY,s=r[0],o=r[1];e=s<e?s:e,i=o<i?o:i,n=s>n?s:n,a=o>a?o:a,s=r[2],o=r[3],e=s<e?s:e,i=o<i?o:i,n=s>n?s:n,a=o>a?o:a,s=r[4],o=r[5],e=s<e?s:e,i=o<i?o:i,n=s>n?s:n,a=o>a?o:a,s=r[6],o=r[7],e=s<e?s:e,i=o<i?o:i,n=s>n?s:n,a=o>a?o:a,this.minX=e,this.minY=i,this.maxX=n,this.maxY=a},t.prototype.addFrame=function(r,e,i,n,a){this.addFrameMatrix(r.worldTransform,e,i,n,a)},t.prototype.addFrameMatrix=function(r,e,i,n,a){var s=r.a,o=r.b,u=r.c,h=r.d,l=r.tx,d=r.ty,f=this.minX,c=this.minY,_=this.maxX,p=this.maxY,v=s*e+u*i+l,m=o*e+h*i+d;f=v<f?v:f,c=m<c?m:c,_=v>_?v:_,p=m>p?m:p,v=s*n+u*i+l,m=o*n+h*i+d,f=v<f?v:f,c=m<c?m:c,_=v>_?v:_,p=m>p?m:p,v=s*e+u*a+l,m=o*e+h*a+d,f=v<f?v:f,c=m<c?m:c,_=v>_?v:_,p=m>p?m:p,v=s*n+u*a+l,m=o*n+h*a+d,f=v<f?v:f,c=m<c?m:c,_=v>_?v:_,p=m>p?m:p,this.minX=f,this.minY=c,this.maxX=_,this.maxY=p},t.prototype.addVertexData=function(r,e,i){for(var n=this.minX,a=this.minY,s=this.maxX,o=this.maxY,u=e;u<i;u+=2){var h=r[u],l=r[u+1];n=h<n?h:n,a=l<a?l:a,s=h>s?h:s,o=l>o?l:o}this.minX=n,this.minY=a,this.maxX=s,this.maxY=o},t.prototype.addVertices=function(r,e,i,n){this.addVerticesMatrix(r.worldTransform,e,i,n)},t.prototype.addVerticesMatrix=function(r,e,i,n,a,s){a===void 0&&(a=0),s===void 0&&(s=a);for(var o=r.a,u=r.b,h=r.c,l=r.d,d=r.tx,f=r.ty,c=this.minX,_=this.minY,p=this.maxX,v=this.maxY,m=i;m<n;m+=2){var T=e[m],x=e[m+1],I=o*T+h*x+d,y=l*x+u*T+f;c=Math.min(c,I-a),p=Math.max(p,I+a),_=Math.min(_,y-s),v=Math.max(v,y+s)}this.minX=c,this.minY=_,this.maxX=p,this.maxY=v},t.prototype.addBounds=function(r){var e=this.minX,i=this.minY,n=this.maxX,a=this.maxY;this.minX=r.minX<e?r.minX:e,this.minY=r.minY<i?r.minY:i,this.maxX=r.maxX>n?r.maxX:n,this.maxY=r.maxY>a?r.maxY:a},t.prototype.addBoundsMask=function(r,e){var i=r.minX>e.minX?r.minX:e.minX,n=r.minY>e.minY?r.minY:e.minY,a=r.maxX<e.maxX?r.maxX:e.maxX,s=r.maxY<e.maxY?r.maxY:e.maxY;if(i<=a&&n<=s){var o=this.minX,u=this.minY,h=this.maxX,l=this.maxY;this.minX=i<o?i:o,this.minY=n<u?n:u,this.maxX=a>h?a:h,this.maxY=s>l?s:l}},t.prototype.addBoundsMatrix=function(r,e){this.addFrameMatrix(e,r.minX,r.minY,r.maxX,r.maxY)},t.prototype.addBoundsArea=function(r,e){var i=r.minX>e.x?r.minX:e.x,n=r.minY>e.y?r.minY:e.y,a=r.maxX<e.x+e.width?r.maxX:e.x+e.width,s=r.maxY<e.y+e.height?r.maxY:e.y+e.height;if(i<=a&&n<=s){var o=this.minX,u=this.minY,h=this.maxX,l=this.maxY;this.minX=i<o?i:o,this.minY=n<u?n:u,this.maxX=a>h?a:h,this.maxY=s>l?s:l}},t.prototype.pad=function(r,e){r===void 0&&(r=0),e===void 0&&(e=r),this.isEmpty()||(this.minX-=r,this.maxX+=r,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(r,e,i,n,a,s){r-=a,e-=s,i+=a,n+=s,this.minX=this.minX<r?this.minX:r,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ir=function(t,r){return ir=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},ir(t,r)};function kr(t,r){ir(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var k=function(t){kr(r,t);function r(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new Dr,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new re,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return r.mixin=function(e){for(var i=Object.keys(e),n=0;n<i.length;++n){var a=i[n];Object.defineProperty(r.prototype,a,Object.getOwnPropertyDescriptor(e,a))}},Object.defineProperty(r.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),r.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},r.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},r.prototype.getBounds=function(e,i){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),i||(this._boundsRect||(this._boundsRect=new Y),i=this._boundsRect),this._bounds.getRectangle(i)},r.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Y),e=this._localBoundsRect),this._localBounds||(this._localBounds=new re);var i=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,s=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,e);return this.parent=n,this.transform=i,this._bounds=a,this._bounds.updateID+=this._boundsID-s,o},r.prototype.toGlobal=function(e,i,n){return n===void 0&&(n=!1),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,i)},r.prototype.toLocal=function(e,i,n,a){return i&&(e=i.toGlobal(e,n,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)},r.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},r.prototype.setTransform=function(e,i,n,a,s,o,u,h,l){return e===void 0&&(e=0),i===void 0&&(i=0),n===void 0&&(n=1),a===void 0&&(a=1),s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=0),h===void 0&&(h=0),l===void 0&&(l=0),this.position.x=e,this.position.y=i,this.scale.x=n||1,this.scale.y=a||1,this.rotation=s,this.skew.x=o,this.skew.y=u,this.pivot.x=h,this.pivot.y=l,this},r.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(r.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Ga),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),r.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},r.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(r.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.transform.rotation*pa},set:function(e){this.transform.rotation=e*_a},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._mask},set:function(e){if(this._mask!==e){if(this._mask){var i=this._mask.maskObject||this._mask;i._maskRefCount--,i._maskRefCount===0&&(i.renderable=!0,i.isMask=!1)}if(this._mask=e,this._mask){var i=this._mask.maskObject||this._mask;i._maskRefCount===0&&(i.renderable=!1,i.isMask=!0),i._maskRefCount++}}},enumerable:!1,configurable:!0}),r}(Hr),Ga=function(t){kr(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return r}(k);k.prototype.displayObjectUpdateTransform=k.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ni;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(ni||(ni={}));var ai;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(ai||(ai={}));var si;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(si||(si={}));var oi;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(oi||(oi={}));var hi;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(hi||(hi={}));var ui;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(ui||(ui={}));var li;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(li||(li={}));var fi;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(fi||(fi={}));var ci;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(ci||(ci={}));var di;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(di||(di={}));var pi;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(pi||(pi={}));var _i;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(_i||(_i={}));var vi;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(vi||(vi={}));var mi;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(mi||(mi={}));var gi;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(gi||(gi={}));var yi;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(yi||(yi={}));var nr;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(nr||(nr={}));var Ti;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Ti||(Ti={}));var bi;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(bi||(bi={}));function Es(t,r){return t.zIndex===r.zIndex?t._lastSortedIndex-r._lastSortedIndex:t.zIndex-r.zIndex}var ut=function(t){kr(r,t);function r(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=K.SORTABLE_CHILDREN,e.sortDirty=!1,e}return r.prototype.onChildrenChange=function(e){},r.prototype.addChild=function(){for(var e=arguments,i=[],n=0;n<arguments.length;n++)i[n]=e[n];if(i.length>1)for(var a=0;a<i.length;a++)this.addChild(i[a]);else{var s=i[0];s.parent&&s.parent.removeChild(s),s.parent=this,this.sortDirty=!0,s.transform._parentID=-1,this.children.push(s),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",s,this,this.children.length-1),s.emit("added",this)}return i[0]},r.prototype.addChildAt=function(e,i){if(i<0||i>this.children.length)throw new Error(e+"addChildAt: The index "+i+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(i,0,e),this._boundsID++,this.onChildrenChange(i),e.emit("added",this),this.emit("childAdded",e,this,i),e},r.prototype.swapChildren=function(e,i){if(e!==i){var n=this.getChildIndex(e),a=this.getChildIndex(i);this.children[n]=i,this.children[a]=e,this.onChildrenChange(n<a?n:a)}},r.prototype.getChildIndex=function(e){var i=this.children.indexOf(e);if(i===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return i},r.prototype.setChildIndex=function(e,i){if(i<0||i>=this.children.length)throw new Error("The index "+i+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(e);bt(this.children,n,1),this.children.splice(i,0,e),this.onChildrenChange(i)},r.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},r.prototype.removeChild=function(){for(var e=arguments,i=[],n=0;n<arguments.length;n++)i[n]=e[n];if(i.length>1)for(var a=0;a<i.length;a++)this.removeChild(i[a]);else{var s=i[0],o=this.children.indexOf(s);if(o===-1)return null;s.parent=null,s.transform._parentID=-1,bt(this.children,o,1),this._boundsID++,this.onChildrenChange(o),s.emit("removed",this),this.emit("childRemoved",s,this,o)}return i[0]},r.prototype.removeChildAt=function(e){var i=this.getChildAt(e);return i.parent=null,i.transform._parentID=-1,bt(this.children,e,1),this._boundsID++,this.onChildrenChange(e),i.emit("removed",this),this.emit("childRemoved",i,this,e),i},r.prototype.removeChildren=function(e,i){e===void 0&&(e=0),i===void 0&&(i=this.children.length);var n=e,a=i,s=a-n,o;if(s>0&&s<=a){o=this.children.splice(n,s);for(var u=0;u<o.length;++u)o[u].parent=null,o[u].transform&&(o[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var u=0;u<o.length;++u)o[u].emit("removed",this),this.emit("childRemoved",o[u],this,u);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},r.prototype.sortChildren=function(){for(var e=!1,i=0,n=this.children.length;i<n;++i){var a=this.children[i];a._lastSortedIndex=i,!e&&a.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(Es),this.sortDirty=!1},r.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,i=this.children.length;e<i;++e){var n=this.children[e];n.visible&&n.updateTransform()}},r.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var i=this.children[e];if(!(!i.visible||!i.renderable))if(i.calculateBounds(),i._mask){var n=i._mask.maskObject||i._mask;n.calculateBounds(),this._bounds.addBoundsMask(i._bounds,n._bounds)}else i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds)}this._bounds.updateID=this._boundsID},r.prototype.getLocalBounds=function(e,i){i===void 0&&(i=!1);var n=t.prototype.getLocalBounds.call(this,e);if(!i)for(var a=0,s=this.children.length;a<s;++a){var o=this.children[a];o.visible&&o.updateTransform()}return n},r.prototype._calculateBounds=function(){},r.prototype._renderWithCulling=function(e){var i=e.renderTexture.sourceFrame;if(i.width>0&&i.height>0){var n,a;if(this.cullArea?(n=this.cullArea,a=this.worldTransform):this._render!==r.prototype._render&&(n=this.getBounds(!0)),n&&i.intersects(n,a))this._render(e);else if(this.cullArea)return;for(var s=0,o=this.children.length;s<o;++s){var u=this.children[s],h=u.cullable;u.cullable=h||!this.cullArea,u.render(e),u.cullable=h}}},r.prototype.render=function(e){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var i=0,n=this.children.length;i<n;++i)this.children[i].render(e)}},r.prototype.renderAdvanced=function(e){var i=this.filters,n=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<i.length;a++)i[a].enabled&&this._enabledFilters.push(i[a])}var s=i&&this._enabledFilters&&this._enabledFilters.length||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==nr.NONE));if(s&&e.batch.flush(),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(var a=0,o=this.children.length;a<o;++a)this.children[a].render(e)}s&&e.batch.flush(),n&&e.mask.pop(this),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},r.prototype._render=function(e){},r.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var i=typeof e=="boolean"?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(i)for(var a=0;a<n.length;++a)n[a].destroy(e)},Object.defineProperty(r.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var i=this.getLocalBounds().width;i!==0?this.scale.x=e/i:this.scale.x=1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var i=this.getLocalBounds().height;i!==0?this.scale.y=e/i:this.scale.y=1,this._height=e},enumerable:!1,configurable:!0}),r}(k);ut.prototype.containerUpdateTransform=ut.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Cs={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};k.mixin(Cs);var Ns=9,ce=100,As=0,ws=0,xi=2,Ii=1,Os=-1e3,Us=-1e3,Ss=2,Gs=function(){function t(r){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ge.tablet||Ge.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width=ce+"px",e.style.height=ce+"px",e.style.position="absolute",e.style.top=As+"px",e.style.left=ws+"px",e.style.zIndex=xi.toString(),this.div=e,this.renderer=r,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var r=this,e=document.createElement("button");e.style.width=Ii+"px",e.style.height=Ii+"px",e.style.position="absolute",e.style.top=Os+"px",e.style.left=Us+"px",e.style.zIndex=Ss.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",function(){r._isMobileAccessibility=!0,r.activate(),r.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var r;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(r=this.renderer.view.parentNode)===null||r===void 0||r.appendChild(this.div))},t.prototype.deactivate=function(){var r;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(r=this.div.parentNode)===null||r===void 0||r.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(r){if(!(!r.visible||!r.accessibleChildren)){r.accessible&&r.interactive&&(r._accessibleActive||this.addChild(r),r.renderId=this.renderId);var e=r.children;if(e)for(var i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},t.prototype.update=function(){var r=performance.now();if(!(Ge.android.device&&r<this.androidUpdateCount)&&(this.androidUpdateCount=r+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),i=e.left,n=e.top,a=e.width,s=e.height,o=this.renderer,u=o.width,h=o.height,l=o.resolution,d=a/u*l,f=s/h*l,c=this.div;c.style.left=i+"px",c.style.top=n+"px",c.style.width=u+"px",c.style.height=h+"px";for(var _=0;_<this.children.length;_++){var p=this.children[_];if(p.renderId!==this.renderId)p._accessibleActive=!1,bt(this.children,_,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,_--;else{c=p._accessibleDiv;var v=p.hitArea,m=p.worldTransform;p.hitArea?(c.style.left=(m.tx+v.x*m.a)*d+"px",c.style.top=(m.ty+v.y*m.d)*f+"px",c.style.width=v.width*m.a*d+"px",c.style.height=v.height*m.d*f+"px"):(v=p.getBounds(),this.capHitArea(v),c.style.left=v.x*d+"px",c.style.top=v.y*f+"px",c.style.width=v.width*d+"px",c.style.height=v.height*f+"px",c.title!==p.accessibleTitle&&p.accessibleTitle!==null&&(c.title=p.accessibleTitle),c.getAttribute("aria-label")!==p.accessibleHint&&p.accessibleHint!==null&&c.setAttribute("aria-label",p.accessibleHint)),(p.accessibleTitle!==c.title||p.tabIndex!==c.tabIndex)&&(c.title=p.accessibleTitle,c.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(c))}}this.renderId++}},t.prototype.updateDebugHTML=function(r){r.innerHTML="type: "+r.type+"</br> title : "+r.title+"</br> tabIndex: "+r.tabIndex},t.prototype.capHitArea=function(r){r.x<0&&(r.width+=r.x,r.x=0),r.y<0&&(r.height+=r.y,r.y=0);var e=this.renderer,i=e.width,n=e.height;r.x+r.width>i&&(r.width=i-r.x),r.y+r.height>n&&(r.height=n-r.y)},t.prototype.addChild=function(r){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=ce+"px",e.style.height=ce+"px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=xi.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=r.accessiblePointerEvents,e.type=r.accessibleType,r.accessibleTitle&&r.accessibleTitle!==null?e.title=r.accessibleTitle:(!r.accessibleHint||r.accessibleHint===null)&&(e.title="displayObject "+r.tabIndex),r.accessibleHint&&r.accessibleHint!==null&&e.setAttribute("aria-label",r.accessibleHint),this.debug&&this.updateDebugHTML(e),r._accessibleActive=!0,r._accessibleDiv=e,e.displayObject=r,this.children.push(r),this.div.appendChild(r._accessibleDiv),r._accessibleDiv.tabIndex=r.tabIndex},t.prototype._onClick=function(r){var e=this.renderer.plugins.interaction,i=r.target.displayObject,n=e.eventData;e.dispatchEvent(i,"click",n),e.dispatchEvent(i,"pointertap",n),e.dispatchEvent(i,"tap",n)},t.prototype._onFocus=function(r){r.target.getAttribute("aria-live")||r.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction,i=r.target.displayObject,n=e.eventData;e.dispatchEvent(i,"mouseover",n)},t.prototype._onFocusOut=function(r){r.target.getAttribute("aria-live")||r.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction,i=r.target.displayObject,n=e.eventData;e.dispatchEvent(i,"mouseout",n)},t.prototype._onKeyDown=function(r){r.keyCode===Ns&&this.activate()},t.prototype._onMouseMove=function(r){r.movementX===0&&r.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();/*!
 * @pixi/interaction - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Pi=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Z,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(r,e,i){return r.worldTransform.applyInverse(i||this.global,e)},t.prototype.copyEvent=function(r){"isPrimary"in r&&r.isPrimary&&(this.isPrimary=!0),this.button="button"in r&&r.button;var e="buttons"in r&&r.buttons;this.buttons=Number.isInteger(e)?e:"which"in r&&r.which,this.width="width"in r&&r.width,this.height="height"in r&&r.height,this.tiltX="tiltX"in r&&r.tiltX,this.tiltY="tiltY"in r&&r.tiltY,this.pointerType="pointerType"in r&&r.pointerType,this.pressure="pressure"in r&&r.pressure,this.rotationAngle="rotationAngle"in r&&r.rotationAngle,this.twist="twist"in r&&r.twist||0,this.tangentialPressure="tangentialPressure"in r&&r.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ar=function(t,r){return ar=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},ar(t,r)};function Ls(t,r){ar(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Fs=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),Xe=function(){function t(r){this._pointerId=r,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(r,e){e?this._flags=this._flags|r:this._flags=this._flags&~r},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(r){this._flags=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(r){this._doSet(t.FLAGS.OVER,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(r){this._doSet(t.FLAGS.RIGHT_DOWN,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(r){this._doSet(t.FLAGS.LEFT_DOWN,r)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),t}(),Bs=function(){function t(){this._tempPoint=new Z}return t.prototype.recursiveFindHit=function(r,e,i,n,a){if(!e||!e.visible)return!1;var s=r.data.global;a=e.interactive||a;var o=!1,u=a,h=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:(n=!1,h=!1)),u=!1):e._mask&&n&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(n=!1)),h&&e.interactiveChildren&&e.children)for(var l=e.children,d=l.length-1;d>=0;d--){var f=l[d],c=this.recursiveFindHit(r,f,i,n,u);if(c){if(!f.parent)continue;u=!1,c&&(r.target&&(n=!1),o=!0)}}return a&&(n&&!r.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(o=!0),e.interactive&&(o&&!r.target&&(r.target=e),i&&i(r,e,!!o))),o},t.prototype.findHit=function(r,e,i,n){this.recursiveFindHit(r,e,i,n,!1)},t}(),Xs={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};k.mixin(Xs);var de=1,pe={target:null,data:{global:null}},Ds=function(t){Ls(r,t);function r(e,i){var n=t.call(this)||this;return i=i||{},n.renderer=e,n.autoPreventDefault=i.autoPreventDefault!==void 0?i.autoPreventDefault:!0,n.interactionFrequency=i.interactionFrequency||10,n.mouse=new Pi,n.mouse.identifier=de,n.mouse.global.set(-999999),n.activeInteractionData={},n.activeInteractionData[de]=n.mouse,n.interactionDataPool=[],n.eventData=new Fs,n.interactionDOMElement=null,n.moveWhenInside=!1,n.eventsAdded=!1,n.tickerAdded=!1,n.mouseOverRenderer=!("PointerEvent"in globalThis),n.supportsTouchEvents="ontouchstart"in globalThis,n.supportsPointerEvents=!!globalThis.PointerEvent,n.onPointerUp=n.onPointerUp.bind(n),n.processPointerUp=n.processPointerUp.bind(n),n.onPointerCancel=n.onPointerCancel.bind(n),n.processPointerCancel=n.processPointerCancel.bind(n),n.onPointerDown=n.onPointerDown.bind(n),n.processPointerDown=n.processPointerDown.bind(n),n.onPointerMove=n.onPointerMove.bind(n),n.processPointerMove=n.processPointerMove.bind(n),n.onPointerOut=n.onPointerOut.bind(n),n.processPointerOverOut=n.processPointerOverOut.bind(n),n.onPointerOver=n.onPointerOver.bind(n),n.cursorStyles={default:"inherit",pointer:"pointer"},n.currentCursorMode=null,n.cursor=null,n.resolution=1,n.delayedEvents=[],n.search=new Bs,n._tempDisplayObject=new Ga,n._eventListenerOptions={capture:!0,passive:!1},n._useSystemTicker=i.useSystemTicker!==void 0?i.useSystemTicker:!0,n.setTargetElement(n.renderer.view,n.renderer.resolution),n}return Object.defineProperty(r.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),r.prototype.hitTest=function(e,i){return pe.target=null,pe.data.global=e,i||(i=this.lastObjectRendered),this.processInteractive(pe,i,null,!0),pe.target},r.prototype.setTargetElement=function(e,i){i===void 0&&(i=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=i,this.addEvents(),this.addTickerListener()},r.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(vt.system.add(this.tickerUpdate,this,Ce.INTERACTION),this.tickerAdded=!0)},r.prototype.removeTickerListener=function(){!this.tickerAdded||(vt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},r.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},r.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},r.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},r.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var e in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&i.pointerType!=="touch"){var n=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},r.prototype.setCursorMode=function(e){e=e||"default";var i=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(i=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var n=this.cursorStyles[e];if(n)switch(typeof n){case"string":i&&(this.interactionDOMElement.style.cursor=n);break;case"function":n(e);break;case"object":i&&Object.assign(this.interactionDOMElement.style,n);break}else i&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},r.prototype.dispatchEvent=function(e,i,n){(!n.stopPropagationHint||e===n.stopsPropagatingAt)&&(n.currentTarget=e,n.type=i,e.emit(i,n),e[i]&&e[i](n))},r.prototype.delayDispatchEvent=function(e,i,n){this.delayedEvents.push({displayObject:e,eventString:i,eventData:n})},r.prototype.mapPositionToPoint=function(e,i,n){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var s=1/this.resolution;e.x=(i-a.left)*(this.interactionDOMElement.width/a.width)*s,e.y=(n-a.top)*(this.interactionDOMElement.height/a.height)*s},r.prototype.processInteractive=function(e,i,n,a){var s=this.search.findHit(e,i,n,a),o=this.delayedEvents;if(!o.length)return s;e.stopPropagationHint=!1;var u=o.length;this.delayedEvents=[];for(var h=0;h<u;h++){var l=o[h],d=l.displayObject,f=l.eventString,c=l.eventData;c.stopsPropagatingAt===d&&(c.stopPropagationHint=!0),this.dispatchEvent(d,f,c)}return s},r.prototype.onPointerDown=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var i=this.normalizeToPointerData(e);if(this.autoPreventDefault&&i[0].isNormalized){var n=e.cancelable||!("cancelable"in e);n&&e.preventDefault()}for(var a=i.length,s=0;s<a;s++){var o=i[s],u=this.getInteractionDataForPointerId(o),h=this.configureInteractionEventForDOMEvent(this.eventData,o,u);if(h.data.originalEvent=e,this.processInteractive(h,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",h),o.pointerType==="touch")this.emit("touchstart",h);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var l=o.button===2;this.emit(l?"rightdown":"mousedown",this.eventData)}}}},r.prototype.processPointerDown=function(e,i,n){var a=e.data,s=e.data.identifier;if(n){if(i.trackedPointers[s]||(i.trackedPointers[s]=new Xe(s)),this.dispatchEvent(i,"pointerdown",e),a.pointerType==="touch")this.dispatchEvent(i,"touchstart",e);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var o=a.button===2;o?i.trackedPointers[s].rightDown=!0:i.trackedPointers[s].leftDown=!0,this.dispatchEvent(i,o?"rightdown":"mousedown",e)}}},r.prototype.onPointerComplete=function(e,i,n){for(var a=this.normalizeToPointerData(e),s=a.length,o=e.target!==this.interactionDOMElement?"outside":"",u=0;u<s;u++){var h=a[u],l=this.getInteractionDataForPointerId(h),d=this.configureInteractionEventForDOMEvent(this.eventData,h,l);if(d.data.originalEvent=e,this.processInteractive(d,this.lastObjectRendered,n,i||!o),this.emit(i?"pointercancel":"pointerup"+o,d),h.pointerType==="mouse"||h.pointerType==="pen"){var f=h.button===2;this.emit(f?"rightup"+o:"mouseup"+o,d)}else h.pointerType==="touch"&&(this.emit(i?"touchcancel":"touchend"+o,d),this.releaseInteractionDataForPointerId(h.pointerId))}},r.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&e.pointerType==="touch"||this.onPointerComplete(e,!0,this.processPointerCancel)},r.prototype.processPointerCancel=function(e,i){var n=e.data,a=e.data.identifier;i.trackedPointers[a]!==void 0&&(delete i.trackedPointers[a],this.dispatchEvent(i,"pointercancel",e),n.pointerType==="touch"&&this.dispatchEvent(i,"touchcancel",e))},r.prototype.onPointerUp=function(e){this.supportsTouchEvents&&e.pointerType==="touch"||this.onPointerComplete(e,!1,this.processPointerUp)},r.prototype.processPointerUp=function(e,i,n){var a=e.data,s=e.data.identifier,o=i.trackedPointers[s],u=a.pointerType==="touch",h=a.pointerType==="mouse"||a.pointerType==="pen",l=!1;if(h){var d=a.button===2,f=Xe.FLAGS,c=d?f.RIGHT_DOWN:f.LEFT_DOWN,_=o!==void 0&&o.flags&c;n?(this.dispatchEvent(i,d?"rightup":"mouseup",e),_&&(this.dispatchEvent(i,d?"rightclick":"click",e),l=!0)):_&&this.dispatchEvent(i,d?"rightupoutside":"mouseupoutside",e),o&&(d?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(i,"pointerup",e),u&&this.dispatchEvent(i,"touchend",e),o&&((!h||l)&&this.dispatchEvent(i,"pointertap",e),u&&(this.dispatchEvent(i,"tap",e),o.over=!1))):o&&(this.dispatchEvent(i,"pointerupoutside",e),u&&this.dispatchEvent(i,"touchendoutside",e)),o&&o.none&&delete i.trackedPointers[s]},r.prototype.onPointerMove=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var i=this.normalizeToPointerData(e);(i[0].pointerType==="mouse"||i[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var n=i.length,a=0;a<n;a++){var s=i[a],o=this.getInteractionDataForPointerId(s),u=this.configureInteractionEventForDOMEvent(this.eventData,s,o);u.data.originalEvent=e,this.processInteractive(u,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",u),s.pointerType==="touch"&&this.emit("touchmove",u),(s.pointerType==="mouse"||s.pointerType==="pen")&&this.emit("mousemove",u)}i[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},r.prototype.processPointerMove=function(e,i,n){var a=e.data,s=a.pointerType==="touch",o=a.pointerType==="mouse"||a.pointerType==="pen";o&&this.processPointerOverOut(e,i,n),(!this.moveWhenInside||n)&&(this.dispatchEvent(i,"pointermove",e),s&&this.dispatchEvent(i,"touchmove",e),o&&this.dispatchEvent(i,"mousemove",e))},r.prototype.onPointerOut=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var i=this.normalizeToPointerData(e),n=i[0];n.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,a);s.data.originalEvent=n,this.processInteractive(s,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",s),n.pointerType==="mouse"||n.pointerType==="pen"?this.emit("mouseout",s):this.releaseInteractionDataForPointerId(a.identifier)}},r.prototype.processPointerOverOut=function(e,i,n){var a=e.data,s=e.data.identifier,o=a.pointerType==="mouse"||a.pointerType==="pen",u=i.trackedPointers[s];n&&!u&&(u=i.trackedPointers[s]=new Xe(s)),u!==void 0&&(n&&this.mouseOverRenderer?(u.over||(u.over=!0,this.delayDispatchEvent(i,"pointerover",e),o&&this.delayDispatchEvent(i,"mouseover",e)),o&&this.cursor===null&&(this.cursor=i.cursor)):u.over&&(u.over=!1,this.dispatchEvent(i,"pointerout",this.eventData),o&&this.dispatchEvent(i,"mouseout",e),u.none&&delete i.trackedPointers[s]))},r.prototype.onPointerOver=function(e){var i=this.normalizeToPointerData(e),n=i[0],a=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,a);s.data.originalEvent=n,n.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",s),(n.pointerType==="mouse"||n.pointerType==="pen")&&this.emit("mouseover",s)},r.prototype.getInteractionDataForPointerId=function(e){var i=e.pointerId,n;return i===de||e.pointerType==="mouse"?n=this.mouse:this.activeInteractionData[i]?n=this.activeInteractionData[i]:(n=this.interactionDataPool.pop()||new Pi,n.identifier=i,this.activeInteractionData[i]=n),n.copyEvent(e),n},r.prototype.releaseInteractionDataForPointerId=function(e){var i=this.activeInteractionData[e];i&&(delete this.activeInteractionData[e],i.reset(),this.interactionDataPool.push(i))},r.prototype.configureInteractionEventForDOMEvent=function(e,i,n){return e.data=n,this.mapPositionToPoint(n.global,i.clientX,i.clientY),i.pointerType==="touch"&&(i.globalX=n.global.x,i.globalY=n.global.y),n.originalEvent=i,e.reset(),e},r.prototype.normalizeToPointerData=function(e){var i=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,a=e.changedTouches.length;n<a;n++){var s=e.changedTouches[n];typeof s.button>"u"&&(s.button=e.touches.length?1:0),typeof s.buttons>"u"&&(s.buttons=e.touches.length?1:0),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,i.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){var o=e;typeof o.isPrimary>"u"&&(o.isPrimary=!0),typeof o.width>"u"&&(o.width=1),typeof o.height>"u"&&(o.height=1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="mouse"),typeof o.pointerId>"u"&&(o.pointerId=de),typeof o.pressure>"u"&&(o.pressure=.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),o.isNormalized=!0,i.push(o)}else i.push(e);return i},r.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},r}(Hr);/*!
 * @pixi/app - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Vr=function(){function t(r){var e=this;this.stage=new ut,r=Object.assign({forceCanvas:!1},r),this.renderer=Qa(r),t._plugins.forEach(function(i){i.init.call(e,r)})}return t.registerPlugin=function(r){t._plugins.push(r)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(r,e){var i=this,n=t._plugins.slice(0);n.reverse(),n.forEach(function(a){a.destroy.call(i)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(r),this.renderer=null},t._plugins=[],t}(),Hs=function(){function t(){}return t.init=function(r){var e=this;Object.defineProperty(this,"resizeTo",{set:function(i){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=i,i&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(!!e._resizeTo){e.cancelResize();var i,n;if(e._resizeTo===globalThis.window)i=globalThis.innerWidth,n=globalThis.innerHeight;else{var a=e._resizeTo,s=a.clientWidth,o=a.clientHeight;i=s,n=o}e.renderer.resize(i,n)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=r.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();Vr.registerPlugin(Hs);/*!
 * @pixi/extract - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var De=/iPhone/i,Ri=/iPod/i,Ei=/iPad/i,Ci=/\biOS-universal(?:.+)Mac\b/i,He=/\bAndroid(?:.+)Mobile\b/i,Ni=/Android/i,Ut=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,_e=/Silk/i,dt=/Windows Phone/i,Ai=/\bWindows(?:.+)ARM\b/i,wi=/BlackBerry/i,Oi=/BB10/i,Ui=/Opera Mini/i,Si=/\b(CriOS|Chrome)(?:.+)Mobile/i,Gi=/Mobile(?:.+)Firefox\b/i,Li=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function Ms(t){return function(r){return r.test(t)}}function ks(t){var r={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?r={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?r.userAgent=t:t&&t.userAgent&&(r={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var e=r.userAgent,i=e.split("[FBAN");typeof i[1]<"u"&&(e=i[0]),i=e.split("Twitter"),typeof i[1]<"u"&&(e=i[0]);var n=Ms(e),a={apple:{phone:n(De)&&!n(dt),ipod:n(Ri),tablet:!n(De)&&(n(Ei)||Li(r))&&!n(dt),universal:n(Ci),device:(n(De)||n(Ri)||n(Ei)||n(Ci)||Li(r))&&!n(dt)},amazon:{phone:n(Ut),tablet:!n(Ut)&&n(_e),device:n(Ut)||n(_e)},android:{phone:!n(dt)&&n(Ut)||!n(dt)&&n(He),tablet:!n(dt)&&!n(Ut)&&!n(He)&&(n(_e)||n(Ni)),device:!n(dt)&&(n(Ut)||n(_e)||n(He)||n(Ni))||n(/\bokhttp\b/i)},windows:{phone:n(dt),tablet:n(Ai),device:n(dt)||n(Ai)},other:{blackberry:n(wi),blackberry10:n(Oi),opera:n(Ui),firefox:n(Gi),chrome:n(Si),device:n(wi)||n(Oi)||n(Ui)||n(Gi)||n(Si)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Dt=ks(globalThis.navigator);function Vs(t){var r=!0;if(Dt.tablet||Dt.phone){if(Dt.apple.device){var e=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(e){var i=parseInt(e[1],10);i<11&&(r=!1)}}if(Dt.android.device){var e=navigator.userAgent.match(/Android\s([0-9.]*)/);if(e){var i=parseInt(e[1],10);i<7&&(r=!1)}}}return r?t:4}function js(){return!Dt.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Fi;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Fi||(Fi={}));var Bi;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Bi||(Bi={}));var Xi;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Xi||(Xi={}));var Di;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Di||(Di={}));var Hi;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Hi||(Hi={}));var Mi;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Mi||(Mi={}));var ki;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(ki||(ki={}));var Vi;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Vi||(Vi={}));var ji;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(ji||(ji={}));var sr;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(sr||(sr={}));var or;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(or||(or={}));var hr;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(hr||(hr={}));var Yi;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Yi||(Yi={}));var zi;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(zi||(zi={}));var ur;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(ur||(ur={}));var Jt;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Jt||(Jt={}));var Wi;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(Wi||(Wi={}));var lr;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(lr||(lr={}));var $i;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})($i||($i={}));var La={MIPMAP_TEXTURES:hr.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:lr.NONE,SPRITE_MAX_TEXTURES:Vs(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:ur.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:or.CLAMP,SCALE_MODE:sr.LINEAR,PRECISION_VERTEX:Jt.HIGH,PRECISION_FRAGMENT:Dt.apple.device?Jt.HIGH:Jt.MEDIUM,CAN_UPLOAD_SAME_BUFFER:js(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */La.SORTABLE_CHILDREN=!1;var qi=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(r){return this.minX>this.maxX||this.minY>this.maxY?Y.EMPTY:(r=r||new Y(0,0,1,1),r.x=this.minX,r.y=this.minY,r.width=this.maxX-this.minX,r.height=this.maxY-this.minY,r)},t.prototype.addPoint=function(r){this.minX=Math.min(this.minX,r.x),this.maxX=Math.max(this.maxX,r.x),this.minY=Math.min(this.minY,r.y),this.maxY=Math.max(this.maxY,r.y)},t.prototype.addPointMatrix=function(r,e){var i=r.a,n=r.b,a=r.c,s=r.d,o=r.tx,u=r.ty,h=i*e.x+a*e.y+o,l=n*e.x+s*e.y+u;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,l),this.maxY=Math.max(this.maxY,l)},t.prototype.addQuad=function(r){var e=this.minX,i=this.minY,n=this.maxX,a=this.maxY,s=r[0],o=r[1];e=s<e?s:e,i=o<i?o:i,n=s>n?s:n,a=o>a?o:a,s=r[2],o=r[3],e=s<e?s:e,i=o<i?o:i,n=s>n?s:n,a=o>a?o:a,s=r[4],o=r[5],e=s<e?s:e,i=o<i?o:i,n=s>n?s:n,a=o>a?o:a,s=r[6],o=r[7],e=s<e?s:e,i=o<i?o:i,n=s>n?s:n,a=o>a?o:a,this.minX=e,this.minY=i,this.maxX=n,this.maxY=a},t.prototype.addFrame=function(r,e,i,n,a){this.addFrameMatrix(r.worldTransform,e,i,n,a)},t.prototype.addFrameMatrix=function(r,e,i,n,a){var s=r.a,o=r.b,u=r.c,h=r.d,l=r.tx,d=r.ty,f=this.minX,c=this.minY,_=this.maxX,p=this.maxY,v=s*e+u*i+l,m=o*e+h*i+d;f=v<f?v:f,c=m<c?m:c,_=v>_?v:_,p=m>p?m:p,v=s*n+u*i+l,m=o*n+h*i+d,f=v<f?v:f,c=m<c?m:c,_=v>_?v:_,p=m>p?m:p,v=s*e+u*a+l,m=o*e+h*a+d,f=v<f?v:f,c=m<c?m:c,_=v>_?v:_,p=m>p?m:p,v=s*n+u*a+l,m=o*n+h*a+d,f=v<f?v:f,c=m<c?m:c,_=v>_?v:_,p=m>p?m:p,this.minX=f,this.minY=c,this.maxX=_,this.maxY=p},t.prototype.addVertexData=function(r,e,i){for(var n=this.minX,a=this.minY,s=this.maxX,o=this.maxY,u=e;u<i;u+=2){var h=r[u],l=r[u+1];n=h<n?h:n,a=l<a?l:a,s=h>s?h:s,o=l>o?l:o}this.minX=n,this.minY=a,this.maxX=s,this.maxY=o},t.prototype.addVertices=function(r,e,i,n){this.addVerticesMatrix(r.worldTransform,e,i,n)},t.prototype.addVerticesMatrix=function(r,e,i,n,a,s){a===void 0&&(a=0),s===void 0&&(s=a);for(var o=r.a,u=r.b,h=r.c,l=r.d,d=r.tx,f=r.ty,c=this.minX,_=this.minY,p=this.maxX,v=this.maxY,m=i;m<n;m+=2){var T=e[m],x=e[m+1],I=o*T+h*x+d,y=l*x+u*T+f;c=Math.min(c,I-a),p=Math.max(p,I+a),_=Math.min(_,y-s),v=Math.max(v,y+s)}this.minX=c,this.minY=_,this.maxX=p,this.maxY=v},t.prototype.addBounds=function(r){var e=this.minX,i=this.minY,n=this.maxX,a=this.maxY;this.minX=r.minX<e?r.minX:e,this.minY=r.minY<i?r.minY:i,this.maxX=r.maxX>n?r.maxX:n,this.maxY=r.maxY>a?r.maxY:a},t.prototype.addBoundsMask=function(r,e){var i=r.minX>e.minX?r.minX:e.minX,n=r.minY>e.minY?r.minY:e.minY,a=r.maxX<e.maxX?r.maxX:e.maxX,s=r.maxY<e.maxY?r.maxY:e.maxY;if(i<=a&&n<=s){var o=this.minX,u=this.minY,h=this.maxX,l=this.maxY;this.minX=i<o?i:o,this.minY=n<u?n:u,this.maxX=a>h?a:h,this.maxY=s>l?s:l}},t.prototype.addBoundsMatrix=function(r,e){this.addFrameMatrix(e,r.minX,r.minY,r.maxX,r.maxY)},t.prototype.addBoundsArea=function(r,e){var i=r.minX>e.x?r.minX:e.x,n=r.minY>e.y?r.minY:e.y,a=r.maxX<e.x+e.width?r.maxX:e.x+e.width,s=r.maxY<e.y+e.height?r.maxY:e.y+e.height;if(i<=a&&n<=s){var o=this.minX,u=this.minY,h=this.maxX,l=this.maxY;this.minX=i<o?i:o,this.minY=n<u?n:u,this.maxX=a>h?a:h,this.maxY=s>l?s:l}},t.prototype.pad=function(r,e){r===void 0&&(r=0),e===void 0&&(e=r),this.isEmpty()||(this.minX-=r,this.maxX+=r,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(r,e,i,n,a,s){r-=a,e-=s,i+=a,n+=s,this.minX=this.minX<r?this.minX:r,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var fr=function(t,r){return fr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},fr(t,r)};function jr(t,r){fr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var ie=function(t){jr(r,t);function r(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new Dr,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new qi,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return r.mixin=function(e){for(var i=Object.keys(e),n=0;n<i.length;++n){var a=i[n];Object.defineProperty(r.prototype,a,Object.getOwnPropertyDescriptor(e,a))}},Object.defineProperty(r.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),r.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},r.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},r.prototype.getBounds=function(e,i){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),i||(this._boundsRect||(this._boundsRect=new Y),i=this._boundsRect),this._bounds.getRectangle(i)},r.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Y),e=this._localBoundsRect),this._localBounds||(this._localBounds=new qi);var i=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,s=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,e);return this.parent=n,this.transform=i,this._bounds=a,this._bounds.updateID+=this._boundsID-s,o},r.prototype.toGlobal=function(e,i,n){return n===void 0&&(n=!1),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,i)},r.prototype.toLocal=function(e,i,n,a){return i&&(e=i.toGlobal(e,n,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)},r.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},r.prototype.setTransform=function(e,i,n,a,s,o,u,h,l){return e===void 0&&(e=0),i===void 0&&(i=0),n===void 0&&(n=1),a===void 0&&(a=1),s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=0),h===void 0&&(h=0),l===void 0&&(l=0),this.position.x=e,this.position.y=i,this.scale.x=n||1,this.scale.y=a||1,this.rotation=s,this.skew.x=o,this.skew.y=u,this.pivot.x=h,this.pivot.y=l,this},r.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(r.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Ys),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),r.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},r.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(r.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.transform.rotation*pa},set:function(e){this.transform.rotation=e*_a},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._mask},set:function(e){if(this._mask!==e){if(this._mask){var i=this._mask.maskObject||this._mask;i._maskRefCount--,i._maskRefCount===0&&(i.renderable=!0,i.isMask=!1)}if(this._mask=e,this._mask){var i=this._mask.maskObject||this._mask;i._maskRefCount===0&&(i.renderable=!1,i.isMask=!0),i._maskRefCount++}}},enumerable:!1,configurable:!0}),r}(Hr),Ys=function(t){jr(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return r}(ie);ie.prototype.displayObjectUpdateTransform=ie.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ki;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Ki||(Ki={}));var Zi;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Zi||(Zi={}));var Ji;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Ji||(Ji={}));var Qi;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Qi||(Qi={}));var tn;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(tn||(tn={}));var en;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(en||(en={}));var rn;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(rn||(rn={}));var nn;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(nn||(nn={}));var an;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(an||(an={}));var sn;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(sn||(sn={}));var on;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(on||(on={}));var hn;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(hn||(hn={}));var un;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(un||(un={}));var ln;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(ln||(ln={}));var fn;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(fn||(fn={}));var cn;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(cn||(cn={}));var cr;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(cr||(cr={}));var dn;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(dn||(dn={}));var pn;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(pn||(pn={}));function zs(t,r){return t.zIndex===r.zIndex?t._lastSortedIndex-r._lastSortedIndex:t.zIndex-r.zIndex}var _n=function(t){jr(r,t);function r(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=La.SORTABLE_CHILDREN,e.sortDirty=!1,e}return r.prototype.onChildrenChange=function(e){},r.prototype.addChild=function(){for(var e=arguments,i=[],n=0;n<arguments.length;n++)i[n]=e[n];if(i.length>1)for(var a=0;a<i.length;a++)this.addChild(i[a]);else{var s=i[0];s.parent&&s.parent.removeChild(s),s.parent=this,this.sortDirty=!0,s.transform._parentID=-1,this.children.push(s),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",s,this,this.children.length-1),s.emit("added",this)}return i[0]},r.prototype.addChildAt=function(e,i){if(i<0||i>this.children.length)throw new Error(e+"addChildAt: The index "+i+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(i,0,e),this._boundsID++,this.onChildrenChange(i),e.emit("added",this),this.emit("childAdded",e,this,i),e},r.prototype.swapChildren=function(e,i){if(e!==i){var n=this.getChildIndex(e),a=this.getChildIndex(i);this.children[n]=i,this.children[a]=e,this.onChildrenChange(n<a?n:a)}},r.prototype.getChildIndex=function(e){var i=this.children.indexOf(e);if(i===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return i},r.prototype.setChildIndex=function(e,i){if(i<0||i>=this.children.length)throw new Error("The index "+i+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(e);bt(this.children,n,1),this.children.splice(i,0,e),this.onChildrenChange(i)},r.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},r.prototype.removeChild=function(){for(var e=arguments,i=[],n=0;n<arguments.length;n++)i[n]=e[n];if(i.length>1)for(var a=0;a<i.length;a++)this.removeChild(i[a]);else{var s=i[0],o=this.children.indexOf(s);if(o===-1)return null;s.parent=null,s.transform._parentID=-1,bt(this.children,o,1),this._boundsID++,this.onChildrenChange(o),s.emit("removed",this),this.emit("childRemoved",s,this,o)}return i[0]},r.prototype.removeChildAt=function(e){var i=this.getChildAt(e);return i.parent=null,i.transform._parentID=-1,bt(this.children,e,1),this._boundsID++,this.onChildrenChange(e),i.emit("removed",this),this.emit("childRemoved",i,this,e),i},r.prototype.removeChildren=function(e,i){e===void 0&&(e=0),i===void 0&&(i=this.children.length);var n=e,a=i,s=a-n,o;if(s>0&&s<=a){o=this.children.splice(n,s);for(var u=0;u<o.length;++u)o[u].parent=null,o[u].transform&&(o[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var u=0;u<o.length;++u)o[u].emit("removed",this),this.emit("childRemoved",o[u],this,u);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},r.prototype.sortChildren=function(){for(var e=!1,i=0,n=this.children.length;i<n;++i){var a=this.children[i];a._lastSortedIndex=i,!e&&a.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(zs),this.sortDirty=!1},r.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,i=this.children.length;e<i;++e){var n=this.children[e];n.visible&&n.updateTransform()}},r.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var i=this.children[e];if(!(!i.visible||!i.renderable))if(i.calculateBounds(),i._mask){var n=i._mask.maskObject||i._mask;n.calculateBounds(),this._bounds.addBoundsMask(i._bounds,n._bounds)}else i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds)}this._bounds.updateID=this._boundsID},r.prototype.getLocalBounds=function(e,i){i===void 0&&(i=!1);var n=t.prototype.getLocalBounds.call(this,e);if(!i)for(var a=0,s=this.children.length;a<s;++a){var o=this.children[a];o.visible&&o.updateTransform()}return n},r.prototype._calculateBounds=function(){},r.prototype._renderWithCulling=function(e){var i=e.renderTexture.sourceFrame;if(i.width>0&&i.height>0){var n,a;if(this.cullArea?(n=this.cullArea,a=this.worldTransform):this._render!==r.prototype._render&&(n=this.getBounds(!0)),n&&i.intersects(n,a))this._render(e);else if(this.cullArea)return;for(var s=0,o=this.children.length;s<o;++s){var u=this.children[s],h=u.cullable;u.cullable=h||!this.cullArea,u.render(e),u.cullable=h}}},r.prototype.render=function(e){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var i=0,n=this.children.length;i<n;++i)this.children[i].render(e)}},r.prototype.renderAdvanced=function(e){var i=this.filters,n=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<i.length;a++)i[a].enabled&&this._enabledFilters.push(i[a])}var s=i&&this._enabledFilters&&this._enabledFilters.length||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==cr.NONE));if(s&&e.batch.flush(),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(var a=0,o=this.children.length;a<o;++a)this.children[a].render(e)}s&&e.batch.flush(),n&&e.mask.pop(this),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},r.prototype._render=function(e){},r.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var i=typeof e=="boolean"?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(i)for(var a=0;a<n.length;++a)n[a].destroy(e)},Object.defineProperty(r.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var i=this.getLocalBounds().width;i!==0?this.scale.x=e/i:this.scale.x=1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var i=this.getLocalBounds().height;i!==0?this.scale.y=e/i:this.scale.y=1,this._height=e},enumerable:!1,configurable:!0}),r}(ie);_n.prototype.containerUpdateTransform=_n.prototype.updateTransform;var Me=new Y,vn=4,Ws=function(){function t(r){this.renderer=r}return t.prototype.image=function(r,e,i){var n=new Image;return n.src=this.base64(r,e,i),n},t.prototype.base64=function(r,e,i){return this.canvas(r).toDataURL(e,i)},t.prototype.canvas=function(r){var e=this.renderer,i,n,a=!1,s,o=!1;r&&(r instanceof Ne?s=r:(s=this.renderer.generateTexture(r),o=!0)),s?(i=s.baseTexture.resolution,n=s.frame,a=!1,e.renderTexture.bind(s)):(i=this.renderer.resolution,a=!0,n=Me,n.width=this.renderer.width,n.height=this.renderer.height,e.renderTexture.bind(null));var u=Math.floor(n.width*i+1e-4),h=Math.floor(n.height*i+1e-4),l=new Jr(u,h,1),d=new Uint8Array(vn*u*h),f=e.gl;f.readPixels(n.x*i,n.y*i,u,h,f.RGBA,f.UNSIGNED_BYTE,d);var c=l.context.getImageData(0,0,u,h);if(t.arrayPostDivide(d,c.data),l.context.putImageData(c,0,0),a){var _=new Jr(l.width,l.height,1);_.context.scale(1,-1),_.context.drawImage(l.canvas,0,-h),l.destroy(),l=_}return o&&s.destroy(!0),l.canvas},t.prototype.pixels=function(r,e){var i=this.renderer,n,a,s,o=!1;r&&(r instanceof Ne?s=r:r instanceof ie&&(s=this.renderer.generateTexture(r),o=!0)),s?e?(n=e.resolution,a=s.frame,i.renderTexture.bind(s)):(n=s.baseTexture.resolution,a=s.frame,i.renderTexture.bind(s)):e?(n=e.resolution,a=Me,a.width=e.width,a.height=e.height,i.renderTexture.bind(null)):(n=i.resolution,a=Me,a.width=i.width,a.height=i.height,i.renderTexture.bind(null));var u=a.width*n,h=a.height*n,l=new Uint8Array(vn*u*h),d=i.gl;return d.readPixels(a.x*n,a.y*n,u,h,d.RGBA,d.UNSIGNED_BYTE,l),o&&s.destroy(!0),t.arrayPostDivide(l,l),l},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(r,e){for(var i=0;i<r.length;i+=4){var n=e[i+3]=r[i+3];n!==0?(e[i]=Math.round(Math.min(r[i]*255/n,255)),e[i+1]=Math.round(Math.min(r[i+1]*255/n,255)),e[i+2]=Math.round(Math.min(r[i+2]*255/n,255))):(e[i]=r[i],e[i+1]=r[i+1],e[i+2]=r[i+2])}},t}();/*!
 * @pixi/loaders - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ve=function(){function t(r,e,i){e===void 0&&(e=!1),this._fn=r,this._once=e,this._thisArg=i,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function mn(t,r){return t._head?(t._tail._next=r,r._prev=t._tail,t._tail=r):(t._head=r,t._tail=r),r._owner=t,r}var _t=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(r){r===void 0&&(r=!1);var e=this._head;if(r)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i},t.prototype.has=function(r){if(!(r instanceof ve))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return r._owner===this},t.prototype.dispatch=function(){for(var r=arguments,e=[],i=0;i<arguments.length;i++)e[i]=r[i];var n=this._head;if(!n)return!1;for(;n;)n._once&&this.detach(n),n._fn.apply(n._thisArg,e),n=n._next;return!0},t.prototype.add=function(r,e){if(e===void 0&&(e=null),typeof r!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return mn(this,new ve(r,!1,e))},t.prototype.once=function(r,e){if(e===void 0&&(e=null),typeof r!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return mn(this,new ve(r,!0,e))},t.prototype.detach=function(r){if(!(r instanceof ve))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return r._owner!==this?this:(r._prev&&(r._prev._next=r._next),r._next&&(r._next._prev=r._prev),r===this._head?(this._head=r._next,r._next===null&&(this._tail=null)):r===this._tail&&(this._tail=r._prev,this._tail._next=null),r._owner=null,this)},t.prototype.detachAll=function(){var r=this._head;if(!r)return this;for(this._head=this._tail=null;r;)r._owner=null,r=r._next;return this},t}();function Fa(t,r){r=r||{};for(var e={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=e.parser[r.strictMode?"strict":"loose"].exec(t),n={},a=14;a--;)n[e.key[a]]=i[a]||"";return n[e.q.name]={},n[e.key[12]].replace(e.q.parser,function(s,o,u){o&&(n[e.q.name][o]=u)}),n}var ke,me=null,$s=0,gn=200,qs=204,Ks=1223,Zs=2;function yn(){}function Tn(t,r,e){r&&r.indexOf(".")===0&&(r=r.substring(1)),r&&(t[r]=e)}function Ve(t){return t.toString().replace("object ","")}var H=function(){function t(r,e,i){if(this._dequeue=yn,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof r!="string"||typeof e!="string")throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,e.indexOf("data:")===0),this.name=r,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=i.crossOrigin===!0?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=yn,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new _t,this.onProgress=new _t,this.onComplete=new _t,this.onAfterMiddleware=new _t}return t.setExtensionLoadType=function(r,e){Tn(t._loadTypeMap,r,e)},t.setExtensionXhrType=function(r,e){Tn(t._xhrTypeMap,r,e)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(r){if(!this.error){if(this.error=new Error(r),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(r){var e=this;if(!this.isLoading){if(this.isComplete){r&&setTimeout(function(){return r(e)},1);return}else r&&this.onComplete.once(r);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof ke>"u"&&(ke=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),ke&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(r){return(this._flags&r)!==0},t.prototype._setFlag=function(r,e){this._flags=e?this._flags|r:this._flags&~r},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(r){this.metadata.loadElement?this.data=this.metadata.loadElement:r==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(r),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(r){if(this.metadata.loadElement?this.data=this.metadata.loadElement:r==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(r),this.data===null){this.abort("Unsupported element: "+r);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(r,this.url[i],Array.isArray(e)?e[i]:e));else{var e=this.metadata.mimeType;this.data.appendChild(this._createSource(r,this.url,Array.isArray(e)?e[0]:e))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(r.withCredentials=!0),r.open("GET",this.url,!0),r.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?r.responseType=t.XHR_RESPONSE_TYPE.TEXT:r.responseType=this.xhrType,r.addEventListener("error",this._boundXhrOnError,!1),r.addEventListener("timeout",this._boundXhrOnTimeout,!1),r.addEventListener("abort",this._boundXhrOnAbort,!1),r.addEventListener("progress",this._boundOnProgress,!1),r.addEventListener("load",this._boundXhrOnLoad,!1),r.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new globalThis.XDomainRequest;r.timeout=this.timeout||5e3,r.onerror=this._boundXhrOnError,r.ontimeout=this._boundXhrOnTimeout,r.onprogress=this._boundOnProgress,r.onload=this._boundXhrOnLoad,r.open("GET",this.url,!0),setTimeout(function(){return r.send()},1)},t.prototype._createSource=function(r,e,i){i||(i=r+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=i,n},t.prototype._onError=function(r){this.abort("Failed to load element using: "+r.target.nodeName)},t.prototype._onProgress=function(r){r&&r.lengthComputable&&this.onProgress.dispatch(this,r.loaded/r.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var r=this.xhr;this.abort(Ve(r)+" Request failed. Status: "+r.status+', text: "'+r.statusText+'"')},t.prototype._xhrOnTimeout=function(){var r=this.xhr;this.abort(Ve(r)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var r=this.xhr;this.abort(Ve(r)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var r=this.xhr,e="",i=typeof r.status>"u"?gn:r.status;(r.responseType===""||r.responseType==="text"||typeof r.responseType>"u")&&(e=r.responseText),i===$s&&(e.length>0||r.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=gn:i===Ks&&(i=qs);var n=i/100|0;if(n===Zs)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=t.TYPE.JSON}catch(o){this.abort("Error trying to parse loaded json: "+o);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var a=new DOMParser;this.data=a.parseFromString(e,"text/xml")}else{var s=document.createElement("div");s.innerHTML=e,this.data=s}this.type=t.TYPE.XML}catch(o){this.abort("Error trying to parse loaded xml: "+o);return}else this.data=r.response||e;else{this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(r,e){if(r.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";e=e||globalThis.location,me||(me=document.createElement("a")),me.href=r;var i=Fa(me.href,{strictMode:!0}),n=!i.port&&e.port===""||i.port===e.port,a=i.protocol?i.protocol+":":"";return i.host!==e.hostname||!n||a!==e.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(r){r===void 0&&(r=this.url);var e="";if(this.isDataUrl){var i=r.indexOf("/");e=r.substring(i+1,r.indexOf(";",i))}else{var n=r.indexOf("?"),a=r.indexOf("#"),s=Math.min(n>-1?n:r.length,a>-1?a:r.length);r=r.substring(0,s),e=r.substring(r.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(r){switch(r){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(r){r[r.NONE=0]="NONE",r[r.DATA_URL=1]="DATA_URL",r[r.COMPLETE=2]="COMPLETE",r[r.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.JSON=1]="JSON",r[r.XML=2]="XML",r[r.IMAGE=3]="IMAGE",r[r.AUDIO=4]="AUDIO",r[r.VIDEO=5]="VIDEO",r[r.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(r){r[r.XHR=1]="XHR",r[r.IMAGE=2]="IMAGE",r[r.AUDIO=3]="AUDIO",r[r.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(r){r.DEFAULT="text",r.BUFFER="arraybuffer",r.BLOB="blob",r.DOCUMENT="document",r.JSON="json",r.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(H||(H={}));function Pt(){}function Js(t){return function(){for(var e=arguments,i=[],n=0;n<arguments.length;n++)i[n]=e[n];if(t===null)throw new Error("Callback was already called.");var a=t;t=null,a.apply(this,i)}}var Qs=function(){function t(r,e){this.data=r,this.callback=e}return t}(),je=function(){function t(r,e){var i=this;if(e===void 0&&(e=1),this.workers=0,this.saturated=Pt,this.unsaturated=Pt,this.empty=Pt,this.drain=Pt,this.error=Pt,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(n,a,s){if(s&&typeof s!="function")throw new Error("task callback must be a function");if(i.started=!0,n==null&&i.idle()){setTimeout(function(){return i.drain()},1);return}var o=new Qs(n,typeof s=="function"?s:Pt);a?i._tasks.unshift(o):i._tasks.push(o),setTimeout(i.process,1)},this.process=function(){for(;!i.paused&&i.workers<i.concurrency&&i._tasks.length;){var n=i._tasks.shift();i._tasks.length===0&&i.empty(),i.workers+=1,i.workers===i.concurrency&&i.saturated(),i._worker(n.data,Js(i._next(n)))}},this._worker=r,e===0)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return t.prototype._next=function(r){var e=this;return function(){for(var i=arguments,n=[],a=0;a<arguments.length;a++)n[a]=i[a];e.workers-=1,r.callback.apply(r,n),n[0]!=null&&e.error(n[0],r.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},t.prototype.push=function(r,e){this._insert(r,!1,e)},t.prototype.kill=function(){this.workers=0,this.drain=Pt,this.started=!1,this._tasks=[]},t.prototype.unshift=function(r,e){this._insert(r,!0,e)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var r=1;r<=this.concurrency;r++)this.process()}},t.eachSeries=function(r,e,i,n){var a=0,s=r.length;function o(u){if(u||a===s){i&&i(u);return}n?setTimeout(function(){e(r[a++],o)},1):e(r[a++],o)}o()},t.queue=function(r,e){return new t(r,e)},t}(),Ye=100,to=/(#[\w-]+)?$/,lt=function(){function t(r,e){var i=this;r===void 0&&(r=""),e===void 0&&(e=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(u,h){return i._loadResource(u,h)},this.resources={},this.baseUrl=r,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(u,h){return i._loadResource(u,h)},this._queue=je.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new _t,this.onError=new _t,this.onLoad=new _t,this.onStart=new _t,this.onComplete=new _t;for(var n=0;n<t._plugins.length;++n){var a=t._plugins[n],s=a.pre,o=a.use;s&&this.pre(s),o&&this.use(o)}this._protected=!1}return t.prototype._add=function(r,e,i,n){if(this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[r])throw new Error('Resource named "'+r+'" already exists.');if(e=this._prepareUrl(e),this.resources[r]=new H(r,e,i),typeof n=="function"&&this.resources[r].onAfterMiddleware.once(n),this.loading){for(var a=i.parentResource,s=[],o=0;o<a.children.length;++o)a.children[o].isComplete||s.push(a.children[o]);var u=a.progressChunk*(s.length+1),h=u/(s.length+2);a.children.push(this.resources[r]),a.progressChunk=h;for(var o=0;o<s.length;++o)s[o].progressChunk=h;this.resources[r].progressChunk=h}return this._queue.push(this.resources[r]),this},t.prototype.pre=function(r){return this._beforeMiddleware.push(r),this},t.prototype.use=function(r){return this._afterMiddleware.push(r),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var r in this.resources){var e=this.resources[r];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},t.prototype.load=function(r){if(typeof r=="function"&&this.onComplete.once(r),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=this._queue._tasks.length,i=Ye/e,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=i;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(r){this._queue.concurrency=r},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(r){var e=Fa(r,{strictMode:!0}),i;if(e.protocol||!e.path||r.indexOf("//")===0?i=r:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&r.charAt(0)!=="/"?i=this.baseUrl+"/"+r:i=this.baseUrl+r,this.defaultQueryString){var n=to.exec(i)[0];i=i.slice(0,i.length-n.length),i.indexOf("?")!==-1?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=n}return i},t.prototype._loadResource=function(r,e){var i=this;r._dequeue=e,je.eachSeries(this._beforeMiddleware,function(n,a){n.call(i,r,function(){a(r.isComplete?{}:null)})},function(){r.isComplete?i._onLoad(r):(r._onLoadBinding=r.onComplete.once(i._onLoad,i),r.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=Ye,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(r){var e=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),je.eachSeries(this._afterMiddleware,function(i,n){i.call(e,r,n)},function(){r.onAfterMiddleware.dispatch(r),e.progress=Math.min(Ye,e.progress+r.progressChunk),e.onProgress.dispatch(e,r),r.error?e.onError.dispatch(r.error,e,r):e.onLoad.dispatch(e,r),e._resourcesParsing.splice(e._resourcesParsing.indexOf(r),1),e._queue.idle()&&e._resourcesParsing.length===0&&e._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var r=t._shared;return r||(r=new t,r._protected=!0,t._shared=r),r},enumerable:!1,configurable:!0}),t.registerPlugin=function(r){return t._plugins.push(r),r.add&&r.add(),t},t._plugins=[],t}();lt.prototype.add=function(r,e,i,n){if(Array.isArray(r)){for(var a=0;a<r.length;++a)this.add(r[a]);return this}if(typeof r=="object"&&(i=r,n=e||i.callback||i.onComplete,e=i.url,r=i.name||i.key||i.url),typeof e!="string"&&(n=i,i=e,e=r),typeof e!="string")throw new Error("No url passed to add resource to loader.");return typeof i=="function"&&(n=i,i=null),this._add(r,e,i,n)};var eo=function(){function t(){}return t.init=function(r){r=Object.assign({sharedLoader:!1},r),this.loader=r.sharedLoader?lt.shared:new lt},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),ro=function(){function t(){}return t.add=function(){H.setExtensionLoadType("svg",H.LOAD_TYPE.XHR),H.setExtensionXhrType("svg",H.XHR_RESPONSE_TYPE.TEXT)},t.use=function(r,e){if(r.data&&(r.type===H.TYPE.IMAGE||r.extension==="svg")){var i=r.data,n=r.url,a=r.name,s=r.metadata;U.fromLoader(i,n,a,s).then(function(o){r.texture=o,e()}).catch(e)}else e()},t}(),io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function no(t){for(var r="",e=0;e<t.length;){for(var i=[0,0,0],n=[0,0,0,0],a=0;a<i.length;++a)e<t.length?i[a]=t.charCodeAt(e++)&255:i[a]=0;n[0]=i[0]>>2,n[1]=(i[0]&3)<<4|i[1]>>4,n[2]=(i[1]&15)<<2|i[2]>>6,n[3]=i[2]&63;var s=e-(t.length-1);switch(s){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64;break}for(var a=0;a<n.length;++a)r+=io.charAt(n[a])}return r}function ao(t,r){if(!t.data){r();return}if(t.xhr&&t.xhrType===H.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var e=t.xhr.getResponseHeader("content-type");if(e&&e.indexOf("image")===0){t.data=new Image,t.data.src="data:"+e+";base64,"+no(t.xhr.responseText),t.type=H.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,r()};return}}else if(t.data.type.indexOf("image")===0){var i=globalThis.URL||globalThis.webkitURL,n=i.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=n,t.type=H.TYPE.IMAGE,t.data.onload=function(){i.revokeObjectURL(n),t.data.onload=null,r()};return}}r()}lt.registerPlugin({use:ao});lt.registerPlugin(ro);/*!
 * @pixi/compressed-textures - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var X,S;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(S||(S={}));var Ae=(X={},X[S.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,X[S.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,X[S.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,X[S.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,X[S.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,X[S.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,X[S.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,X[S.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,X[S.COMPRESSED_R11_EAC]=.5,X[S.COMPRESSED_SIGNED_R11_EAC]=.5,X[S.COMPRESSED_RG11_EAC]=1,X[S.COMPRESSED_SIGNED_RG11_EAC]=1,X[S.COMPRESSED_RGB8_ETC2]=.5,X[S.COMPRESSED_RGBA8_ETC2_EAC]=1,X[S.COMPRESSED_SRGB8_ETC2]=.5,X[S.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,X[S.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,X[S.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,X[S.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,X[S.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,X[S.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,X[S.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,X[S.COMPRESSED_RGB_ETC1_WEBGL]=.5,X[S.COMPRESSED_RGB_ATC_WEBGL]=.5,X[S.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,X[S.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,X);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var dr=function(t,r){return dr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},dr(t,r)};function Ba(t,r){dr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}function so(t,r,e,i){return new(e||(e=Promise))(function(n,a){function s(h){try{u(i.next(h))}catch(l){a(l)}}function o(h){try{u(i.throw(h))}catch(l){a(l)}}function u(h){h.done?n(h.value):new e(function(l){l(h.value)}).then(s,o)}u((i=i.apply(t,r||[])).next())})}function oo(t,r){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(h){return function(l){return u([h,l])}}function u(h){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,n&&(a=h[0]&2?n.return:h[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,h[1])).done)return a;switch(n=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return e.label++,{value:h[1],done:!1};case 5:e.label++,n=h[1],h=[0];continue;case 7:h=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){e=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){e.label=h[1];break}if(h[0]===6&&e.label<a[1]){e.label=a[1],a=h;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(h);break}a[2]&&e.ops.pop(),e.trys.pop();continue}h=r.call(t,e)}catch(l){h=[6,l],n=0}finally{i=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var ho=function(t){Ba(r,t);function r(e,i){i===void 0&&(i={width:1,height:1,autoLoad:!0});var n=this,a,s;return typeof e=="string"?(a=e,s=new Uint8Array):(a=null,s=e),n=t.call(this,s,i)||this,n.origin=a,n.buffer=s?new Qr(s):null,n.origin&&i.autoLoad!==!1&&n.load(),s&&s.length&&(n.loaded=!0,n.onBlobLoaded(n.buffer.rawBinaryData)),n}return r.prototype.onBlobLoaded=function(e){},r.prototype.load=function(){return so(this,void 0,Promise,function(){var e,i,n;return oo(this,function(a){switch(a.label){case 0:return[4,fetch(this.origin)];case 1:return e=a.sent(),[4,e.blob()];case 2:return i=a.sent(),[4,i.arrayBuffer()];case 3:return n=a.sent(),this.data=new Uint32Array(n),this.buffer=new Qr(n),this.loaded=!0,this.onBlobLoaded(n),this.update(),[2,this]}})})},r}(ma),pr=function(t){Ba(r,t);function r(e,i){var n=t.call(this,e,i)||this;return n.format=i.format,n.levels=i.levels||1,n._width=i.width,n._height=i.height,n._extension=r._formatToExtension(n.format),(i.levelBuffers||n.buffer)&&(n._levelBuffers=i.levelBuffers||r._createLevelBuffers(e instanceof Uint8Array?e:n.buffer.uint8View,n.format,n.levels,4,4,n.width,n.height)),n}return r.prototype.upload=function(e,i,n){var a=e.gl,s=e.context.extensions[this._extension];if(!s)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var o=0,u=this.levels;o<u;o++){var h=this._levelBuffers[o],l=h.levelID,d=h.levelWidth,f=h.levelHeight,c=h.levelBuffer;a.compressedTexImage2D(a.TEXTURE_2D,l,this.format,d,f,0,c)}return!0},r.prototype.onBlobLoaded=function(){this._levelBuffers=r._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},r._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},r._createLevelBuffers=function(e,i,n,a,s,o,u){for(var h=new Array(n),l=e.byteOffset,d=o,f=u,c=d+a-1&~(a-1),_=f+s-1&~(s-1),p=c*_*Ae[i],v=0;v<n;v++)h[v]={levelID:v,levelWidth:n>1?d:c,levelHeight:n>1?f:_,levelBuffer:new Uint8Array(e.buffer,l,p)},l+=p,d=d>>1||1,f=f>>1||1,c=d+a-1&~(a-1),_=f+s-1&~(s-1),p=c*_*Ae[i];return h},r}(ho),uo=function(){function t(){}return t.use=function(r,e){var i=r.data,n=this;if(r.type===H.TYPE.JSON&&i&&i.cacheID&&i.textures){for(var a=i.textures,s=void 0,o=void 0,u=0,h=a.length;u<h;u++){var l=a[u],d=l.src,f=l.format;if(f||(o=d),t.textureFormats[f]){s=d;break}}if(s=s||o,!s){e(new Error("Cannot load compressed-textures in "+r.url+", make sure you provide a fallback"));return}if(s===r.url){e(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var c={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},_=Kt.resolve(r.url.replace(n.baseUrl,""),s),p=i.cacheID;n.add(p,_,c,function(v){if(v.error){e(v.error);return}var m=v.texture,T=m===void 0?null:m,x=v.textures,I=x===void 0?{}:x;Object.assign(r,{texture:T,textures:I}),e()})}else e()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var r=document.createElement("canvas"),e=r.getContext("webgl");if(!e)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var i={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=i}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var r=t.textureExtensions;t._textureFormats={};for(var e in r){var i=r[e];!i||Object.assign(t._textureFormats,Object.getPrototypeOf(i))}}return t._textureFormats},enumerable:!1,configurable:!0}),t}();function Xa(t,r,e){var i={textures:{},texture:null};if(!r)return i;var n=r.map(function(a){return new U(new q(a,Object.assign({mipmap:va.OFF,alphaMode:Mr.NO_PREMULTIPLIED_ALPHA},e)))});return n.forEach(function(a,s){var o=a.baseTexture,u=t+"-"+(s+1);q.addToCache(o,u),U.addToCache(a,u),s===0&&(q.addToCache(o,t),U.addToCache(a,t),i.texture=a),i.textures[u]=a}),i}var zt,rt;H.setExtensionXhrType("dds",H.XHR_RESPONSE_TYPE.BUFFER);var ze=4,ge=124,lo=32,bn=20,fo=542327876,ye={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},co={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Te={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},nt;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(nt||(nt={}));var _r;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(_r||(_r={}));var po=1,_o=2,vo=4,mo=64,go=512,yo=131072,To=827611204,bo=861165636,xo=894720068,Io=808540228,Po=4,Ro=(zt={},zt[To]=S.COMPRESSED_RGBA_S3TC_DXT1_EXT,zt[bo]=S.COMPRESSED_RGBA_S3TC_DXT3_EXT,zt[xo]=S.COMPRESSED_RGBA_S3TC_DXT5_EXT,zt),Eo=(rt={},rt[nt.DXGI_FORMAT_BC1_TYPELESS]=S.COMPRESSED_RGBA_S3TC_DXT1_EXT,rt[nt.DXGI_FORMAT_BC1_UNORM]=S.COMPRESSED_RGBA_S3TC_DXT1_EXT,rt[nt.DXGI_FORMAT_BC2_TYPELESS]=S.COMPRESSED_RGBA_S3TC_DXT3_EXT,rt[nt.DXGI_FORMAT_BC2_UNORM]=S.COMPRESSED_RGBA_S3TC_DXT3_EXT,rt[nt.DXGI_FORMAT_BC3_TYPELESS]=S.COMPRESSED_RGBA_S3TC_DXT5_EXT,rt[nt.DXGI_FORMAT_BC3_UNORM]=S.COMPRESSED_RGBA_S3TC_DXT5_EXT,rt[nt.DXGI_FORMAT_BC1_UNORM_SRGB]=S.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,rt[nt.DXGI_FORMAT_BC2_UNORM_SRGB]=S.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,rt[nt.DXGI_FORMAT_BC3_UNORM_SRGB]=S.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,rt),Co=function(){function t(){}return t.use=function(r,e){if(r.extension==="dds"&&r.data)try{Object.assign(r,Xa(r.name||r.url,t.parse(r.data),r.metadata))}catch(i){e(i);return}e()},t.parse=function(r){var e=new Uint32Array(r),i=e[0];if(i!==fo)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(r,0,ge/Uint32Array.BYTES_PER_ELEMENT),a=n[ye.HEIGHT],s=n[ye.WIDTH],o=n[ye.MIPMAP_COUNT],u=new Uint32Array(r,ye.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,lo/Uint32Array.BYTES_PER_ELEMENT),h=u[po];if(h&vo){var l=u[co.FOURCC];if(l!==Io){var d=Ro[l],f=ze+ge,c=new Uint8Array(r,f),_=new pr(c,{format:d,width:s,height:a,levels:o});return[_]}var p=ze+ge,v=new Uint32Array(e.buffer,p,bn/Uint32Array.BYTES_PER_ELEMENT),m=v[Te.DXGI_FORMAT],T=v[Te.RESOURCE_DIMENSION],x=v[Te.MISC_FLAG],I=v[Te.ARRAY_SIZE],y=Eo[m];if(y===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+m);if(x===Po)throw new Error("DDSLoader does not support cubemap textures");if(T===_r.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var g=new Array,R=ze+ge+bn;if(I===1)g.push(new Uint8Array(r,R));else{for(var N=Ae[y],b=0,P=s,O=a,w=0;w<o;w++){var G=Math.max(1,P+3&-4),j=Math.max(1,O+3&-4),E=G*j*N;b+=E,P=P>>>1,O=O>>>1}for(var C=R,w=0;w<I;w++)g.push(new Uint8Array(r,C,b)),C+=b}return g.map(function(L){return new pr(L,{format:y,width:s,height:a,levels:o})})}throw h&mo?new Error("DDSLoader does not support uncompressed texture data."):h&go?new Error("DDSLoader does not supported YUV uncompressed texture data."):h&yo?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):h&_o?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}(),gt,pt,Wt;H.setExtensionXhrType("ktx",H.XHR_RESPONSE_TYPE.BUFFER);var xn=[171,75,84,88,32,49,49,187,13,10,26,10],No=67305985,it={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},We=64,In=(gt={},gt[V.UNSIGNED_BYTE]=1,gt[V.UNSIGNED_SHORT]=2,gt[V.INT]=4,gt[V.UNSIGNED_INT]=4,gt[V.FLOAT]=4,gt[V.HALF_FLOAT]=8,gt),Ao=(pt={},pt[$.RGBA]=4,pt[$.RGB]=3,pt[$.RG]=2,pt[$.RED]=1,pt[$.LUMINANCE]=1,pt[$.LUMINANCE_ALPHA]=2,pt[$.ALPHA]=1,pt),wo=(Wt={},Wt[V.UNSIGNED_SHORT_4_4_4_4]=2,Wt[V.UNSIGNED_SHORT_5_5_5_1]=2,Wt[V.UNSIGNED_SHORT_5_6_5]=2,Wt),Oo=function(){function t(){}return t.use=function(r,e){if(r.extension==="ktx"&&r.data)try{var i=r.name||r.url,n=t.parse(i,r.data),a=n.compressed,s=n.uncompressed,o=n.kvData;if(a){var u=Xa(i,a,r.metadata);if(o&&u.textures)for(var h in u.textures)u.textures[h].baseTexture.ktxKeyValueData=o;Object.assign(r,u)}else if(s){var l={};s.forEach(function(d,f){var c=new U(new q(d.resource,{mipmap:va.OFF,alphaMode:Mr.NO_PREMULTIPLIED_ALPHA,type:d.type,format:d.format})),_=i+"-"+(f+1);o&&(c.baseTexture.ktxKeyValueData=o),q.addToCache(c.baseTexture,_),U.addToCache(c,_),f===0&&(l[i]=c,q.addToCache(c.baseTexture,i),U.addToCache(c,i)),l[_]=c}),Object.assign(r,{textures:l})}}catch(d){e(d);return}e()},t.parse=function(r,e){var i=new DataView(e);if(!t.validate(r,i))return null;var n=i.getUint32(it.ENDIANNESS,!0)===No,a=i.getUint32(it.GL_TYPE,n),s=i.getUint32(it.GL_FORMAT,n),o=i.getUint32(it.GL_INTERNAL_FORMAT,n),u=i.getUint32(it.PIXEL_WIDTH,n),h=i.getUint32(it.PIXEL_HEIGHT,n)||1,l=i.getUint32(it.PIXEL_DEPTH,n)||1,d=i.getUint32(it.NUMBER_OF_ARRAY_ELEMENTS,n)||1,f=i.getUint32(it.NUMBER_OF_FACES,n),c=i.getUint32(it.NUMBER_OF_MIPMAP_LEVELS,n),_=i.getUint32(it.BYTES_OF_KEY_VALUE_DATA,n);if(h===0||l!==1)throw new Error("Only 2D textures are supported");if(f!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(d!==1)throw new Error("WebGL does not support array textures");var p=4,v=4,m=u+3&-4,T=h+3&-4,x=new Array(d),I=u*h;a===0&&(I=m*T);var y;if(a!==0?In[a]?y=In[a]*Ao[s]:y=wo[a]:y=Ae[o],y===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var g=t.loadKeyValueData?t.parseKvData(i,_,n):null,R=I*y,N=R,b=u,P=h,O=m,w=T,G=We+_,j=0;j<c;j++){for(var E=i.getUint32(G,n),C=G+4,L=0;L<d;L++){var z=x[L];z||(z=x[L]=new Array(c)),z[j]={levelID:j,levelWidth:c>1||a!==0?b:O,levelHeight:c>1||a!==0?P:w,levelBuffer:new Uint8Array(e,C,N)},C+=N}G+=E+4,G=G%4!==0?G+4-G%4:G,b=b>>1||1,P=P>>1||1,O=b+p-1&~(p-1),w=P+v-1&~(v-1),N=O*w*y}return a!==0?{uncompressed:x.map(function(B){var A=B[0].levelBuffer,at=!1;return a===V.FLOAT?A=new Float32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4):a===V.UNSIGNED_INT?(at=!0,A=new Uint32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4)):a===V.INT&&(at=!0,A=new Int32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4)),{resource:new ma(A,{width:B[0].levelWidth,height:B[0].levelHeight}),type:a,format:at?t.convertFormatToInteger(s):s}}),kvData:g}:{compressed:x.map(function(B){return new pr(null,{format:o,width:u,height:h,levels:c,levelBuffers:B})}),kvData:g}},t.validate=function(r,e){for(var i=0;i<xn.length;i++)if(e.getUint8(i)!==xn[i])return console.error(r+" is not a valid *.ktx file!"),!1;return!0},t.convertFormatToInteger=function(r){switch(r){case $.RGBA:return $.RGBA_INTEGER;case $.RGB:return $.RGB_INTEGER;case $.RG:return $.RG_INTEGER;case $.RED:return $.RED_INTEGER;default:return r}},t.parseKvData=function(r,e,i){for(var n=new Map,a=0;a<e;){var s=r.getUint32(We+a,i),o=We+a+4,u=3-(s+3)%4;if(s===0||s>e-a){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var h=0;h<s&&r.getUint8(o+h)!==0;h++);if(h===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var l=new TextDecoder().decode(new Uint8Array(r.buffer,o,h)),d=new DataView(r.buffer,o+h+1,s-h-1);n.set(l,d),a+=4+s+u}return n},t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var vr=function(t,r){return vr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},vr(t,r)};function Da(t,r){vr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var eu=function(t){Da(r,t);function r(e,i,n,a){e===void 0&&(e=1500),n===void 0&&(n=16384),a===void 0&&(a=!1);var s=t.call(this)||this,o=16384;return n>o&&(n=o),s._properties=[!1,!0,!1,!1,!1],s._maxSize=e,s._batchSize=n,s._buffers=null,s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=te.NORMAL,s.autoResize=a,s.roundPixels=!0,s.baseTexture=null,s.setProperties(i),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return r.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},r.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,Qt(e,this.tintRgb)},enumerable:!1,configurable:!0}),r.prototype.render=function(e){var i=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return i.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},r.prototype.onChildrenChange=function(e){for(var i=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<i;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[i]=++this._updateID},r.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},r.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r}(ut),Pn=function(){function t(r,e,i){this.geometry=new ba,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<r.length;++n){var a=r[n];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||V.FLOAT,offset:a.offset},e[n]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var r=this.geometry,e=0;this.indexBuffer=new Mt(es(this.size),!0,!0),r.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){var n=this.dynamicProperties[i];n.offset=e,e+=n.size,this.dynamicStride+=n.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new Mt(this.dynamicData,!1,!1);var s=0;this.staticStride=0;for(var i=0;i<this.staticProperties.length;++i){var n=this.staticProperties[i];n.offset=s,s+=n.size,this.staticStride+=n.size}var o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new Mt(this.staticData,!0,!1);for(var i=0;i<this.dynamicProperties.length;++i){var n=this.dynamicProperties[i];r.addAttribute(n.attributeName,this.dynamicBuffer,0,n.type===V.UNSIGNED_BYTE,n.type,this.dynamicStride*4,n.offset*4)}for(var i=0;i<this.staticProperties.length;++i){var n=this.staticProperties[i];r.addAttribute(n.attributeName,this.staticBuffer,0,n.type===V.UNSIGNED_BYTE,n.type,this.staticStride*4,n.offset*4)}},t.prototype.uploadDynamic=function(r,e,i){for(var n=0;n<this.dynamicProperties.length;n++){var a=this.dynamicProperties[n];a.uploadFunction(r,e,i,a.type===V.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(r,e,i){for(var n=0;n<this.staticProperties.length;n++){var a=this.staticProperties[n];a.uploadFunction(r,e,i,a.type===V.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),Uo=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,So=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,Go=function(t){Da(r,t);function r(e){var i=t.call(this,e)||this;return i.shader=null,i.properties=null,i.tempMatrix=new xt,i.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:i.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:i.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:i.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:i.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:V.UNSIGNED_BYTE,uploadFunction:i.uploadTint,offset:0}],i.shader=Ht.from(So,Uo,{}),i.state=Ue.for2d(),i}return r.prototype.render=function(e){var i=e.children,n=e._maxSize,a=e._batchSize,s=this.renderer,o=i.length;if(o!==0){o>n&&!e.autoResize&&(o=n);var u=e._buffers;u||(u=e._buffers=this.generateBuffers(e));var h=i[0]._texture.baseTexture;this.state.blendMode=ga(e.blendMode,h.alphaMode),s.state.set(this.state);var l=s.gl,d=e.worldTransform.copyTo(this.tempMatrix);d.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=d.toArray(!0),this.shader.uniforms.uColor=ts(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,h.alphaMode),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);for(var f=!1,c=0,_=0;c<o;c+=a,_+=1){var p=o-c;p>a&&(p=a),_>=u.length&&u.push(this._generateOneMoreBuffer(e));var v=u[_];v.uploadDynamic(i,c,p);var m=e._bufferUpdateIDs[_]||0;f=f||v._updateID<m,f&&(v._updateID=e._updateID,v.uploadStatic(i,c,p)),s.geometry.bind(v.geometry),l.drawElements(l.TRIANGLES,p*6,l.UNSIGNED_SHORT,0)}}},r.prototype.generateBuffers=function(e){for(var i=[],n=e._maxSize,a=e._batchSize,s=e._properties,o=0;o<n;o+=a)i.push(new Pn(this.properties,s,a));return i},r.prototype._generateOneMoreBuffer=function(e){var i=e._batchSize,n=e._properties;return new Pn(this.properties,n,i)},r.prototype.uploadVertices=function(e,i,n,a,s,o){for(var u=0,h=0,l=0,d=0,f=0;f<n;++f){var c=e[i+f],_=c._texture,p=c.scale.x,v=c.scale.y,m=_.trim,T=_.orig;m?(h=m.x-c.anchor.x*T.width,u=h+m.width,d=m.y-c.anchor.y*T.height,l=d+m.height):(u=T.width*(1-c.anchor.x),h=T.width*-c.anchor.x,l=T.height*(1-c.anchor.y),d=T.height*-c.anchor.y),a[o]=h*p,a[o+1]=d*v,a[o+s]=u*p,a[o+s+1]=d*v,a[o+s*2]=u*p,a[o+s*2+1]=l*v,a[o+s*3]=h*p,a[o+s*3+1]=l*v,o+=s*4}},r.prototype.uploadPosition=function(e,i,n,a,s,o){for(var u=0;u<n;u++){var h=e[i+u].position;a[o]=h.x,a[o+1]=h.y,a[o+s]=h.x,a[o+s+1]=h.y,a[o+s*2]=h.x,a[o+s*2+1]=h.y,a[o+s*3]=h.x,a[o+s*3+1]=h.y,o+=s*4}},r.prototype.uploadRotation=function(e,i,n,a,s,o){for(var u=0;u<n;u++){var h=e[i+u].rotation;a[o]=h,a[o+s]=h,a[o+s*2]=h,a[o+s*3]=h,o+=s*4}},r.prototype.uploadUvs=function(e,i,n,a,s,o){for(var u=0;u<n;++u){var h=e[i+u]._texture._uvs;h?(a[o]=h.x0,a[o+1]=h.y0,a[o+s]=h.x1,a[o+s+1]=h.y1,a[o+s*2]=h.x2,a[o+s*2+1]=h.y2,a[o+s*3]=h.x3,a[o+s*3+1]=h.y3,o+=s*4):(a[o]=0,a[o+1]=0,a[o+s]=0,a[o+s+1]=0,a[o+s*2]=0,a[o+s*2+1]=0,a[o+s*3]=0,a[o+s*3+1]=0,o+=s*4)}},r.prototype.uploadTint=function(e,i,n,a,s,o){for(var u=0;u<n;++u){var h=e[i+u],l=h._texture.baseTexture.alphaMode>0,d=h.alpha,f=d<1&&l?ya(h._tintRGB,d):h._tintRGB+(d*255<<24);a[o]=f,a[o+s]=f,a[o+s*2]=f,a[o+s*3]=f,o+=s*4}},r.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},r}(Ta);/*!
 * @pixi/graphics - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var yt;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(yt||(yt={}));var Tt;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(Tt||(Tt={}));var ne={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,r){if(r===void 0&&(r=20),!this.adaptive||!t||isNaN(t))return r;var e=Math.ceil(t/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},Ha=function(){function t(){this.color=16777215,this.alpha=1,this.texture=U.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var r=new t;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=U.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var mr=function(t,r){return mr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},mr(t,r)};function Yr(t,r){mr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}function Rn(t,r){var e,i;r===void 0&&(r=!1);var n=t.length;if(!(n<6)){for(var a=0,s=0,o=t[n-2],u=t[n-1];s<n;s+=2){var h=t[s],l=t[s+1];a+=(h-o)*(l+u),o=h,u=l}if(!r&&a>0||r&&a<=0)for(var d=n/2,s=d+d%2;s<n;s+=2){var f=n-s-2,c=n-s-1,_=s,p=s+1;e=[t[_],t[f]],t[f]=e[0],t[_]=e[1],i=[t[p],t[c]],t[c]=i[0],t[p]=i[1]}}}var zr={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,r){var e=t.points,i=t.holes,n=r.points,a=r.indices;if(e.length>=6){Rn(e,!1);for(var s=[],o=0;o<i.length;o++){var u=i[o];Rn(u.points,!0),s.push(e.length/2),e=e.concat(u.points)}var h=xa.exports(e,s,2);if(!h)return;for(var l=n.length/2,o=0;o<h.length;o+=3)a.push(h[o]+l),a.push(h[o+1]+l),a.push(h[o+2]+l);for(var o=0;o<e.length;o++)n.push(e[o])}}},ae={build:function(t){var r=t.points,e,i,n,a,s,o;if(t.type===W.CIRC){var u=t.shape;e=u.x,i=u.y,s=o=u.radius,n=a=0}else if(t.type===W.ELIP){var h=t.shape;e=h.x,i=h.y,s=h.width,o=h.height,n=a=0}else{var l=t.shape,d=l.width/2,f=l.height/2;e=l.x+d,i=l.y+f,s=o=Math.max(0,Math.min(l.radius,Math.min(d,f))),n=d-s,a=f-o}if(!(s>=0&&o>=0&&n>=0&&a>=0)){r.length=0;return}var c=Math.ceil(2.3*Math.sqrt(s+o)),_=c*8+(n?4:0)+(a?4:0);if(r.length=_,_!==0){if(c===0){r.length=8,r[0]=r[6]=e+n,r[1]=r[3]=i+a,r[2]=r[4]=e-n,r[5]=r[7]=i-a;return}var p=0,v=c*4+(n?2:0)+2,m=v,T=_;{var x=n+s,I=a,y=e+x,g=e-x,R=i+I;if(r[p++]=y,r[p++]=R,r[--v]=R,r[--v]=g,a){var N=i-I;r[m++]=g,r[m++]=N,r[--T]=N,r[--T]=y}}for(var b=1;b<c;b++){var P=Math.PI/2*(b/c),x=n+Math.cos(P)*s,I=a+Math.sin(P)*o,y=e+x,g=e-x,R=i+I,N=i-I;r[p++]=y,r[p++]=R,r[--v]=R,r[--v]=g,r[m++]=g,r[m++]=N,r[--T]=N,r[--T]=y}{var x=n,I=a+o,y=e+x,g=e-x,R=i+I,N=i-I;r[p++]=y,r[p++]=R,r[--T]=N,r[--T]=y,n&&(r[p++]=g,r[p++]=R,r[--T]=N,r[--T]=g)}}},triangulate:function(t,r){var e=t.points,i=r.points,n=r.indices,a=i.length/2,s=a,o,u;if(t.type!==W.RREC){var h=t.shape;o=h.x,u=h.y}else{var l=t.shape;o=l.x+l.width/2,u=l.y+l.height/2}var d=t.matrix;i.push(t.matrix?d.a*o+d.c*u+d.tx:o,t.matrix?d.b*o+d.d*u+d.ty:u),a++,i.push(e[0],e[1]);for(var f=2;f<e.length;f+=2)i.push(e[f],e[f+1]),n.push(a++,s,a);n.push(s+1,s,a)}},Ma={build:function(t){var r=t.shape,e=r.x,i=r.y,n=r.width,a=r.height,s=t.points;s.length=0,s.push(e,i,e+n,i,e+n,i+a,e,i+a)},triangulate:function(t,r){var e=t.points,i=r.points,n=i.length/2;i.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),r.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};function St(t,r,e){var i=r-t;return t+i*e}function be(t,r,e,i,n,a,s){s===void 0&&(s=[]);for(var o=20,u=s,h=0,l=0,d=0,f=0,c=0,_=0,p=0,v=0;p<=o;++p)v=p/o,h=St(t,e,v),l=St(r,i,v),d=St(e,n,v),f=St(i,a,v),c=St(h,d,v),_=St(l,f,v),!(p===0&&u[u.length-2]===c&&u[u.length-1]===_)&&u.push(c,_);return u}var ka={build:function(t){if(we.nextRoundedRectBehavior){ae.build(t);return}var r=t.shape,e=t.points,i=r.x,n=r.y,a=r.width,s=r.height,o=Math.max(0,Math.min(r.radius,Math.min(a,s)/2));e.length=0,o?(be(i,n+o,i,n,i+o,n,e),be(i+a-o,n,i+a,n,i+a,n+o,e),be(i+a,n+s-o,i+a,n+s,i+a-o,n+s,e),be(i+o,n+s,i,n+s,i,n+s-o,e)):e.push(i,n,i+a,n,i+a,n+s,i,n+s)},triangulate:function(t,r){if(we.nextRoundedRectBehavior){ae.triangulate(t,r);return}for(var e=t.points,i=r.points,n=r.indices,a=i.length/2,s=xa.exports(e,null,2),o=0,u=s.length;o<u;o+=3)n.push(s[o]+a),n.push(s[o+1]+a),n.push(s[o+2]+a);for(var o=0,u=e.length;o<u;o++)i.push(e[o],e[++o])}};function En(t,r,e,i,n,a,s,o){var u=t-e*n,h=r-i*n,l=t+e*a,d=r+i*a,f,c;s?(f=i,c=-e):(f=-i,c=e);var _=u+f,p=h+c,v=l+f,m=d+c;return o.push(_,p),o.push(v,m),2}function Gt(t,r,e,i,n,a,s,o){var u=e-t,h=i-r,l=Math.atan2(u,h),d=Math.atan2(n-t,a-r);o&&l<d?l+=Math.PI*2:!o&&l>d&&(d+=Math.PI*2);var f=l,c=d-l,_=Math.abs(c),p=Math.sqrt(u*u+h*h),v=(15*_*Math.sqrt(p)/Math.PI>>0)+1,m=c/v;if(f+=m,o){s.push(t,r),s.push(e,i);for(var T=1,x=f;T<v;T++,x+=m)s.push(t,r),s.push(t+Math.sin(x)*p,r+Math.cos(x)*p);s.push(t,r),s.push(n,a)}else{s.push(e,i),s.push(t,r);for(var T=1,x=f;T<v;T++,x+=m)s.push(t+Math.sin(x)*p,r+Math.cos(x)*p),s.push(t,r);s.push(n,a),s.push(t,r)}return v*2}function Lo(t,r){var e=t.shape,i=t.points||e.points.slice(),n=r.closePointEps;if(i.length!==0){var a=t.lineStyle,s=new Z(i[0],i[1]),o=new Z(i[i.length-2],i[i.length-1]),u=e.type!==W.POLY||e.closeStroke,h=Math.abs(s.x-o.x)<n&&Math.abs(s.y-o.y)<n;if(u){i=i.slice(),h&&(i.pop(),i.pop(),o.set(i[i.length-2],i[i.length-1]));var l=(s.x+o.x)*.5,d=(o.y+s.y)*.5;i.unshift(l,d),i.push(l,d)}var f=r.points,c=i.length/2,_=i.length,p=f.length/2,v=a.width/2,m=v*v,T=a.miterLimit*a.miterLimit,x=i[0],I=i[1],y=i[2],g=i[3],R=0,N=0,b=-(I-g),P=x-y,O=0,w=0,G=Math.sqrt(b*b+P*P);b/=G,P/=G,b*=v,P*=v;var j=a.alignment,E=(1-j)*2,C=j*2;u||(a.cap===Tt.ROUND?_+=Gt(x-b*(E-C)*.5,I-P*(E-C)*.5,x-b*E,I-P*E,x+b*C,I+P*C,f,!0)+2:a.cap===Tt.SQUARE&&(_+=En(x,I,b,P,E,C,!0,f))),f.push(x-b*E,I-P*E),f.push(x+b*C,I+P*C);for(var L=1;L<c-1;++L){x=i[(L-1)*2],I=i[(L-1)*2+1],y=i[L*2],g=i[L*2+1],R=i[(L+1)*2],N=i[(L+1)*2+1],b=-(I-g),P=x-y,G=Math.sqrt(b*b+P*P),b/=G,P/=G,b*=v,P*=v,O=-(g-N),w=y-R,G=Math.sqrt(O*O+w*w),O/=G,w/=G,O*=v,w*=v;var z=y-x,B=I-g,A=y-R,at=N-g,mt=B*A-at*z,ct=mt<0;if(Math.abs(mt)<.1){f.push(y-b*E,g-P*E),f.push(y+b*C,g+P*C);continue}var Yt=(-b+x)*(-P+g)-(-b+y)*(-P+I),Nt=(-O+R)*(-w+g)-(-O+y)*(-w+N),st=(z*Nt-A*Yt)/mt,At=(at*Yt-B*Nt)/mt,wt=(st-y)*(st-y)+(At-g)*(At-g),tt=y+(st-y)*E,et=g+(At-g)*E,J=y-(st-y)*C,Q=g-(At-g)*C,D=Math.min(z*z+B*B,A*A+at*at),It=ct?E:C,ot=D+It*It*m,F=wt<=ot;F?a.join===yt.BEVEL||wt/m>T?(ct?(f.push(tt,et),f.push(y+b*C,g+P*C),f.push(tt,et),f.push(y+O*C,g+w*C)):(f.push(y-b*E,g-P*E),f.push(J,Q),f.push(y-O*E,g-w*E),f.push(J,Q)),_+=2):a.join===yt.ROUND?ct?(f.push(tt,et),f.push(y+b*C,g+P*C),_+=Gt(y,g,y+b*C,g+P*C,y+O*C,g+w*C,f,!0)+4,f.push(tt,et),f.push(y+O*C,g+w*C)):(f.push(y-b*E,g-P*E),f.push(J,Q),_+=Gt(y,g,y-b*E,g-P*E,y-O*E,g-w*E,f,!1)+4,f.push(y-O*E,g-w*E),f.push(J,Q)):(f.push(tt,et),f.push(J,Q)):(f.push(y-b*E,g-P*E),f.push(y+b*C,g+P*C),a.join===yt.ROUND?ct?_+=Gt(y,g,y+b*C,g+P*C,y+O*C,g+w*C,f,!0)+2:_+=Gt(y,g,y-b*E,g-P*E,y-O*E,g-w*E,f,!1)+2:a.join===yt.MITER&&wt/m<=T&&(ct?(f.push(J,Q),f.push(J,Q)):(f.push(tt,et),f.push(tt,et)),_+=2),f.push(y-O*E,g-w*E),f.push(y+O*C,g+w*C),_+=2)}x=i[(c-2)*2],I=i[(c-2)*2+1],y=i[(c-1)*2],g=i[(c-1)*2+1],b=-(I-g),P=x-y,G=Math.sqrt(b*b+P*P),b/=G,P/=G,b*=v,P*=v,f.push(y-b*E,g-P*E),f.push(y+b*C,g+P*C),u||(a.cap===Tt.ROUND?_+=Gt(y-b*(E-C)*.5,g-P*(E-C)*.5,y-b*E,g-P*E,y+b*C,g+P*C,f,!1)+2:a.cap===Tt.SQUARE&&(_+=En(y,g,b,P,E,C,!1,f)));for(var ht=r.indices,Ot=ne.epsilon*ne.epsilon,L=p;L<_+p-2;++L)x=f[L*2],I=f[L*2+1],y=f[(L+1)*2],g=f[(L+1)*2+1],R=f[(L+2)*2],N=f[(L+2)*2+1],!(Math.abs(x*(g-N)+y*(N-I)+R*(I-g))<Ot)&&ht.push(L,L+1,L+2)}}function Fo(t,r){var e=0,i=t.shape,n=t.points||i.points,a=i.type!==W.POLY||i.closeStroke;if(n.length!==0){var s=r.points,o=r.indices,u=n.length/2,h=s.length/2,l=h;for(s.push(n[0],n[1]),e=1;e<u;e++)s.push(n[e*2],n[e*2+1]),o.push(l,l+1),l++;a&&o.push(l,h)}}function gr(t,r){t.lineStyle.native?Fo(t,r):Lo(t,r)}var yr=function(){function t(){}return t.curveTo=function(r,e,i,n,a,s){var o=s[s.length-2],u=s[s.length-1],h=u-e,l=o-r,d=n-e,f=i-r,c=Math.abs(h*f-l*d);if(c<1e-8||a===0)return(s[s.length-2]!==r||s[s.length-1]!==e)&&s.push(r,e),null;var _=h*h+l*l,p=d*d+f*f,v=h*d+l*f,m=a*Math.sqrt(_)/c,T=a*Math.sqrt(p)/c,x=m*v/_,I=T*v/p,y=m*f+T*l,g=m*d+T*h,R=l*(T+x),N=h*(T+x),b=f*(m+I),P=d*(m+I),O=Math.atan2(N-g,R-y),w=Math.atan2(P-g,b-y);return{cx:y+r,cy:g+e,radius:a,startAngle:O,endAngle:w,anticlockwise:l*d>f*h}},t.arc=function(r,e,i,n,a,s,o,u,h){for(var l=o-s,d=ne._segmentsCount(Math.abs(l)*a,Math.ceil(Math.abs(l)/tr)*40),f=l/(d*2),c=f*2,_=Math.cos(f),p=Math.sin(f),v=d-1,m=v%1/v,T=0;T<=v;++T){var x=T+m*T,I=f+s+c*x,y=Math.cos(I),g=-Math.sin(I);h.push((_*y+p*g)*a+i,(_*-g+p*y)*a+n)}},t}(),Va=function(){function t(){}return t.curveLength=function(r,e,i,n,a,s,o,u){for(var h=10,l=0,d=0,f=0,c=0,_=0,p=0,v=0,m=0,T=0,x=0,I=0,y=r,g=e,R=1;R<=h;++R)d=R/h,f=d*d,c=f*d,_=1-d,p=_*_,v=p*_,m=v*r+3*p*d*i+3*_*f*a+c*o,T=v*e+3*p*d*n+3*_*f*s+c*u,x=y-m,I=g-T,y=m,g=T,l+=Math.sqrt(x*x+I*I);return l},t.curveTo=function(r,e,i,n,a,s,o){var u=o[o.length-2],h=o[o.length-1];o.length-=2;var l=ne._segmentsCount(t.curveLength(u,h,r,e,i,n,a,s)),d=0,f=0,c=0,_=0,p=0;o.push(u,h);for(var v=1,m=0;v<=l;++v)m=v/l,d=1-m,f=d*d,c=f*d,_=m*m,p=_*m,o.push(c*u+3*f*m*r+3*d*_*i+p*a,c*h+3*f*m*e+3*d*_*n+p*s)},t}(),ja=function(){function t(){}return t.curveLength=function(r,e,i,n,a,s){var o=r-2*i+a,u=e-2*n+s,h=2*i-2*r,l=2*n-2*e,d=4*(o*o+u*u),f=4*(o*h+u*l),c=h*h+l*l,_=2*Math.sqrt(d+f+c),p=Math.sqrt(d),v=2*d*p,m=2*Math.sqrt(c),T=f/p;return(v*_+p*f*(_-m)+(4*c*d-f*f)*Math.log((2*p+T+_)/(T+m)))/(4*v)},t.curveTo=function(r,e,i,n,a){for(var s=a[a.length-2],o=a[a.length-1],u=ne._segmentsCount(t.curveLength(s,o,r,e,i,n)),h=0,l=0,d=1;d<=u;++d){var f=d/u;h=s+(r-s)*f,l=o+(e-o)*f,a.push(h+(r+(i-r)*f-h)*f,l+(e+(n-e)*f-l)*f)}},t}(),Ya=function(){function t(){this.reset()}return t.prototype.begin=function(r,e,i){this.reset(),this.style=r,this.start=e,this.attribStart=i},t.prototype.end=function(r,e){this.attribSize=e-this.attribStart,this.size=r-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),Rt,Re=(Rt={},Rt[W.POLY]=zr,Rt[W.CIRC]=ae,Rt[W.ELIP]=ae,Rt[W.RECT]=Ma,Rt[W.RREC]=ka,Rt),Tr=[],Zt=[],Cn=function(){function t(r,e,i,n){e===void 0&&(e=null),i===void 0&&(i=null),n===void 0&&(n=null),this.points=[],this.holes=[],this.shape=r,this.lineStyle=i,this.fillStyle=e,this.matrix=n,this.type=r.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Lt=new Z,Bo=new re,Xo=function(t){Yr(r,t);function r(){var e=t.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new re,e.boundsDirty=-1,e}return Object.defineProperty(r.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),r.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Zt.push(this.drawCalls[e]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var i=this.batches[e];i.reset(),Tr.push(i)}this.batches.length=0},r.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},r.prototype.drawShape=function(e,i,n,a){i===void 0&&(i=null),n===void 0&&(n=null),a===void 0&&(a=null);var s=new Cn(e,i,n,a);return this.graphicsData.push(s),this.dirty++,this},r.prototype.drawHole=function(e,i){if(i===void 0&&(i=null),!this.graphicsData.length)return null;var n=new Cn(e,null,null,i),a=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=a.lineStyle,a.holes.push(n),this.dirty++,this},r.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},r.prototype.containsPoint=function(e){for(var i=this.graphicsData,n=0;n<i.length;++n){var a=i[n];if(!!a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(e,Lt):Lt.copyFrom(e),a.shape.contains(Lt.x,Lt.y))){var s=!1;if(a.holes)for(var o=0;o<a.holes.length;o++){var u=a.holes[o];if(u.shape.contains(Lt.x,Lt.y)){s=!0;break}}if(!s)return!0}}return!1},r.prototype.updateBatches=function(e){if(!this.graphicsData.length){this.batchable=!0;return}if(!!this.validateBatching()){this.cacheDirty=this.dirty;var i=this.uvs,n=this.graphicsData,a=null,s=null;this.batches.length>0&&(a=this.batches[this.batches.length-1],s=a.style);for(var o=this.shapeIndex;o<n.length;o++){this.shapeIndex++;var u=n[o],h=u.fillStyle,l=u.lineStyle,d=Re[u.type];d.build(u),u.matrix&&this.transformPoints(u.points,u.matrix),(h.visible||l.visible)&&this.processHoles(u.holes);for(var f=0;f<2;f++){var c=f===0?h:l;if(!!c.visible){var _=c.texture.baseTexture,p=this.indices.length,v=this.points.length/2;_.wrapMode=kt.REPEAT,f===0?this.processFill(u):this.processLine(u);var m=this.points.length/2-v;m!==0&&(a&&!this._compareStyles(s,c)&&(a.end(p,v),a=null),a||(a=Tr.pop()||new Ya,a.begin(c,p,v),this.batches.push(a),s=c),this.addUvs(this.points,i,c.texture,v,m,c.matrix))}}}var T=this.indices.length,x=this.points.length/2;if(a&&a.end(T,x),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var I=x>65535&&e;this.indicesUint16=I?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},r.prototype._compareStyles=function(e,i){return!(!e||!i||e.texture.baseTexture!==i.texture.baseTexture||e.color+e.alpha!==i.color+i.alpha||!!e.native!=!!i.native)},r.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,i=this.graphicsData.length;e<i;e++){var n=this.graphicsData[e],a=n.fillStyle,s=n.lineStyle;if(a&&!a.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0},r.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,i=0,n=e.length;i<n;i++)for(var a=e[i],s=0;s<a.size;s++){var o=a.start+s;this.indicesUint16[o]=this.indicesUint16[o]-a.attribStart}},r.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var e=this.batches,i=0;i<e.length;i++)if(e[i].style.native)return!1;return this.points.length<r.BATCHABLE_SIZE*2},r.prototype.buildDrawCalls=function(){for(var e=++q._globalBatch,i=0;i<this.drawCalls.length;i++)this.drawCalls[i].texArray.clear(),Zt.push(this.drawCalls[i]);this.drawCalls.length=0;var n=this.colors,a=this.textureIds,s=Zt.pop();s||(s=new ti,s.texArray=new ei),s.texArray.count=0,s.start=0,s.size=0,s.type=Bt.TRIANGLES;var o=0,u=null,h=0,l=!1,d=Bt.TRIANGLES,f=0;this.drawCalls.push(s);for(var i=0;i<this.batches.length;i++){var c=this.batches[i],_=8,p=c.style,v=p.texture.baseTexture;l!==!!p.native&&(l=!!p.native,d=l?Bt.LINES:Bt.TRIANGLES,u=null,o=_,e++),u!==v&&(u=v,v._batchEnabled!==e&&(o===_&&(e++,o=0,s.size>0&&(s=Zt.pop(),s||(s=new ti,s.texArray=new ei),this.drawCalls.push(s)),s.start=f,s.size=0,s.texArray.count=0,s.type=d),v.touched=1,v._batchEnabled=e,v._batchLocation=o,v.wrapMode=kt.REPEAT,s.texArray.elements[s.texArray.count++]=v,o++)),s.size+=c.size,f+=c.size,h=v._batchLocation,this.addColors(n,p.color,p.alpha,c.attribSize,c.attribStart),this.addTextureIds(a,h,c.attribSize,c.attribStart)}q._globalBatch=e,this.packAttributes()},r.prototype.packAttributes=function(){for(var e=this.points,i=this.uvs,n=this.colors,a=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),u=new Uint32Array(s),h=0,l=0;l<e.length/2;l++)o[h++]=e[l*2],o[h++]=e[l*2+1],o[h++]=i[l*2],o[h++]=i[l*2+1],u[h++]=n[l],o[h++]=a[l];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)},r.prototype.processFill=function(e){if(e.holes.length)zr.triangulate(e,this);else{var i=Re[e.type];i.triangulate(e,this)}},r.prototype.processLine=function(e){gr(e,this);for(var i=0;i<e.holes.length;i++)gr(e.holes[i],this)},r.prototype.processHoles=function(e){for(var i=0;i<e.length;i++){var n=e[i],a=Re[n.type];a.build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}},r.prototype.calculateBounds=function(){var e=this._bounds,i=Bo,n=xt.IDENTITY;this._bounds.clear(),i.clear();for(var a=0;a<this.graphicsData.length;a++){var s=this.graphicsData[a],o=s.shape,u=s.type,h=s.lineStyle,l=s.matrix||xt.IDENTITY,d=0;if(h&&h.visible&&(d=h.width,u!==W.POLY||s.fillStyle.visible?d*=Math.max(0,h.alignment):d*=Math.max(h.alignment,1-h.alignment)),n!==l&&(i.isEmpty()||(e.addBoundsMatrix(i,n),i.clear()),n=l),u===W.RECT||u===W.RREC){var f=o;i.addFramePad(f.x,f.y,f.x+f.width,f.y+f.height,d,d)}else if(u===W.CIRC){var c=o;i.addFramePad(c.x,c.y,c.x,c.y,c.radius+d,c.radius+d)}else if(u===W.ELIP){var _=o;i.addFramePad(_.x,_.y,_.x,_.y,_.width+d,_.height+d)}else{var p=o;e.addVerticesMatrix(n,p.points,0,p.points.length,d,d)}}i.isEmpty()||e.addBoundsMatrix(i,n),e.pad(this.boundsPadding,this.boundsPadding)},r.prototype.transformPoints=function(e,i){for(var n=0;n<e.length/2;n++){var a=e[n*2],s=e[n*2+1];e[n*2]=i.a*a+i.c*s+i.tx,e[n*2+1]=i.b*a+i.d*s+i.ty}},r.prototype.addColors=function(e,i,n,a,s){s===void 0&&(s=0);var o=(i>>16)+(i&65280)+((i&255)<<16),u=ya(o,n);e.length=Math.max(e.length,s+a);for(var h=0;h<a;h++)e[s+h]=u},r.prototype.addTextureIds=function(e,i,n,a){a===void 0&&(a=0),e.length=Math.max(e.length,a+n);for(var s=0;s<n;s++)e[a+s]=i},r.prototype.addUvs=function(e,i,n,a,s,o){o===void 0&&(o=null);for(var u=0,h=i.length,l=n.frame;u<s;){var d=e[(a+u)*2],f=e[(a+u)*2+1];if(o){var c=o.a*d+o.c*f+o.tx;f=o.b*d+o.d*f+o.ty,d=c}u++,i.push(d/l.width,f/l.height)}var _=n.baseTexture;(l.width<_.width||l.height<_.height)&&this.adjustUvs(i,n,h,s)},r.prototype.adjustUvs=function(e,i,n,a){for(var s=i.baseTexture,o=1e-6,u=n+a*2,h=i.frame,l=h.width/s.width,d=h.height/s.height,f=h.x/h.width,c=h.y/h.height,_=Math.floor(e[n]+o),p=Math.floor(e[n+1]+o),v=n+2;v<u;v+=2)_=Math.min(_,Math.floor(e[v]+o)),p=Math.min(p,Math.floor(e[v+1]+o));f-=_,c-=p;for(var v=n;v<u;v+=2)e[v]=(e[v]+f)*l,e[v+1]=(e[v+1]+c)*d},r.BATCHABLE_SIZE=100,r}(rs),Do=function(t){Yr(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=Tt.BUTT,e.join=yt.MITER,e.miterLimit=10,e}return r.prototype.clone=function(){var e=new r;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},r.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},r}(Ha),Ho=new Float32Array(3),$e={},we=function(t){Yr(r,t);function r(e){e===void 0&&(e=null);var i=t.call(this)||this;return i.shader=null,i.pluginName="batch",i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i._fillStyle=new Ha,i._lineStyle=new Do,i._matrix=null,i._holeMode=!1,i.state=Ue.for2d(),i._geometry=e||new Xo,i._geometry.refCount++,i._transformID=-1,i.tint=16777215,i.blendMode=te.NORMAL,i}return Object.defineProperty(r.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),r.prototype.clone=function(){return this.finishPoly(),new r(this._geometry)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),r.prototype.lineStyle=function(e,i,n,a,s){return e===void 0&&(e=null),i===void 0&&(i=0),n===void 0&&(n=1),a===void 0&&(a=.5),s===void 0&&(s=!1),typeof e=="number"&&(e={width:e,color:i,alpha:n,alignment:a,native:s}),this.lineTextureStyle(e)},r.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:U.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Tt.BUTT,join:yt.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var i=e.width>0&&e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:i},e)):this._lineStyle.reset(),this},r.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,i=this.currentPath.points.length;i>2&&(this.drawShape(this.currentPath),this.currentPath=new Pe,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[i-2],e[i-1]))}else this.currentPath=new Pe,this.currentPath.closeStroke=!1},r.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},r.prototype.moveTo=function(e,i){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=i,this},r.prototype.lineTo=function(e,i){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,a=n[n.length-2],s=n[n.length-1];return(a!==e||s!==i)&&n.push(e,i),this},r.prototype._initCurve=function(e,i){e===void 0&&(e=0),i===void 0&&(i=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,i]):this.moveTo(e,i)},r.prototype.quadraticCurveTo=function(e,i,n,a){this._initCurve();var s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),ja.curveTo(e,i,n,a,s),this},r.prototype.bezierCurveTo=function(e,i,n,a,s,o){return this._initCurve(),Va.curveTo(e,i,n,a,s,o,this.currentPath.points),this},r.prototype.arcTo=function(e,i,n,a,s){this._initCurve(e,i);var o=this.currentPath.points,u=yr.curveTo(e,i,n,a,s,o);if(u){var h=u.cx,l=u.cy,d=u.radius,f=u.startAngle,c=u.endAngle,_=u.anticlockwise;this.arc(h,l,d,f,c,_)}return this},r.prototype.arc=function(e,i,n,a,s,o){if(o===void 0&&(o=!1),a===s)return this;!o&&s<=a?s+=tr:o&&a<=s&&(a+=tr);var u=s-a;if(u===0)return this;var h=e+Math.cos(a)*n,l=i+Math.sin(a)*n,d=this._geometry.closePointEps,f=this.currentPath?this.currentPath.points:null;if(f){var c=Math.abs(f[f.length-2]-h),_=Math.abs(f[f.length-1]-l);c<d&&_<d||f.push(h,l)}else this.moveTo(h,l),f=this.currentPath.points;return yr.arc(h,l,e,i,n,a,s,o,f),this},r.prototype.beginFill=function(e,i){return e===void 0&&(e=0),i===void 0&&(i=1),this.beginTextureFill({texture:U.WHITE,color:e,alpha:i})},r.prototype.beginTextureFill=function(e){e=Object.assign({texture:U.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var i=e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:i},e)):this._fillStyle.reset(),this},r.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},r.prototype.drawRect=function(e,i,n,a){return this.drawShape(new Y(e,i,n,a))},r.prototype.drawRoundedRect=function(e,i,n,a,s){return this.drawShape(new is(e,i,n,a,s))},r.prototype.drawCircle=function(e,i,n){return this.drawShape(new ns(e,i,n))},r.prototype.drawEllipse=function(e,i,n,a){return this.drawShape(new as(e,i,n,a))},r.prototype.drawPolygon=function(){for(var e=arguments,i=[],n=0;n<arguments.length;n++)i[n]=e[n];var a,s=!0,o=i[0];o.points?(s=o.closeStroke,a=o.points):Array.isArray(i[0])?a=i[0]:a=i;var u=new Pe(a);return u.closeStroke=s,this.drawShape(u),this},r.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},r.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},r.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===W.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},r.prototype._render=function(e){this.finishPoly();var i=this._geometry,n=e.context.supports.uint32Indices;i.updateBatches(n),i.batchable?(this.batchDirty!==i.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},r.prototype._populateBatches=function(){var e=this._geometry,i=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(var a=0;a<n;a++){var s=e.batches[a],o=s.style.color,u=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),h=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),l=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),d={vertexData:u,blendMode:i,indices:l,uvs:h,_batchRGB:Qt(o),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[a]=d}},r.prototype._renderBatched=function(e){if(!!this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var i=0,n=this.batches.length;i<n;i++){var a=this.batches[i];a.worldAlpha=this.worldAlpha*a.alpha,e.plugins[this.pluginName].render(a)}}},r.prototype._renderDirect=function(e){var i=this._resolveDirectShader(e),n=this._geometry,a=this.tint,s=this.worldAlpha,o=i.uniforms,u=n.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(a>>16&255)/255*s,o.tint[1]=(a>>8&255)/255*s,o.tint[2]=(a&255)/255*s,o.tint[3]=s,e.shader.bind(i),e.geometry.bind(n,i),e.state.set(this.state);for(var h=0,l=u.length;h<l;h++)this._renderDrawCallDirect(e,n.drawCalls[h])},r.prototype._renderDrawCallDirect=function(e,i){for(var n=i.texArray,a=i.type,s=i.size,o=i.start,u=n.count,h=0;h<u;h++)e.texture.bind(n.elements[h],h);e.geometry.draw(a,s,o)},r.prototype._resolveDirectShader=function(e){var i=this.shader,n=this.pluginName;if(!i){if(!$e[n]){for(var a=e.plugins[n].MAX_TEXTURES,s=new Int32Array(a),o=0;o<a;o++)s[o]=o;var u={tint:new Float32Array([1,1,1,1]),translationMatrix:new xt,default:ss.from({uSamplers:s},!0)},h=e.plugins[n]._shader.program;$e[n]=new Ht(h,u)}i=$e[n]}return i},r.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(!!e.graphicsData.length){var i=e.bounds,n=i.minX,a=i.minY,s=i.maxX,o=i.maxY;this._bounds.addFrame(this.transform,n,a,s,o)}},r.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,r._TEMP_POINT),this._geometry.containsPoint(r._TEMP_POINT)},r.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=Qt(this.tint,Ho),i=0;i<this.batches.length;i++){var n=this.batches[i],a=n._batchRGB,s=e[0]*a[0]*255,o=e[1]*a[1]*255,u=e[2]*a[2]*255,h=(s<<16)+(o<<8)+(u|0);n._tintRGB=(h>>16)+(h&65280)+((h&255)<<16)}}},r.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var i=this.transform.worldTransform,n=i.a,a=i.b,s=i.c,o=i.d,u=i.tx,h=i.ty,l=this._geometry.points,d=this.vertexData,f=0,c=0;c<l.length;c+=2){var _=l[c],p=l[c+1];d[f++]=n*_+s*p+u,d[f++]=o*p+a*_+h}}},r.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},r.prototype.setMatrix=function(e){return this._matrix=e,this},r.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},r.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},r.prototype.destroy=function(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},r.nextRoundedRectBehavior=!1,r._TEMP_POINT=new Z,r}(ut),ru={buildPoly:zr,buildCircle:ae,buildRectangle:Ma,buildRoundedRectangle:ka,buildLine:gr,ArcUtils:yr,BezierUtils:Va,QuadraticUtils:ja,BatchPart:Ya,FILL_COMMANDS:Re,BATCH_POOL:Tr,DRAW_CALL_POOL:Zt};/*!
 * @pixi/sprite - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var br=function(t,r){return br=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},br(t,r)};function Mo(t,r){br(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var $t=new Z,ko=new Uint16Array([0,1,2,0,2,3]),le=function(t){Mo(r,t);function r(e){var i=t.call(this)||this;return i._anchor=new Ia(i._onAnchorUpdate,i,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=te.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=e||U.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=ko,i.pluginName="batch",i.isSprite=!0,i._roundPixels=K.ROUND_PIXELS,i}return r.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Xt(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Xt(this.scale.y)*this._height/this._texture.orig.height)},r.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},r.prototype.calculateVertices=function(){var e=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===e._updateID)){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var i=this.transform.worldTransform,n=i.a,a=i.b,s=i.c,o=i.d,u=i.tx,h=i.ty,l=this.vertexData,d=e.trim,f=e.orig,c=this._anchor,_=0,p=0,v=0,m=0;if(d?(p=d.x-c._x*f.width,_=p+d.width,m=d.y-c._y*f.height,v=m+d.height):(p=-c._x*f.width,_=p+f.width,m=-c._y*f.height,v=m+f.height),l[0]=n*p+s*m+u,l[1]=o*m+a*p+h,l[2]=n*_+s*m+u,l[3]=o*m+a*_+h,l[4]=n*_+s*v+u,l[5]=o*v+a*_+h,l[6]=n*p+s*v+u,l[7]=o*v+a*p+h,this._roundPixels)for(var T=K.RESOLUTION,x=0;x<l.length;++x)l[x]=Math.round((l[x]*T|0)/T)}},r.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,i=this.vertexTrimmedData,n=e.orig,a=this._anchor,s=this.transform.worldTransform,o=s.a,u=s.b,h=s.c,l=s.d,d=s.tx,f=s.ty,c=-a._x*n.width,_=c+n.width,p=-a._y*n.height,v=p+n.height;i[0]=o*c+h*p+d,i[1]=l*p+u*c+f,i[2]=o*_+h*p+d,i[3]=l*p+u*_+f,i[4]=o*_+h*v+d,i[5]=l*v+u*_+f,i[6]=o*c+h*v+d,i[7]=l*v+u*c+f},r.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},r.prototype._calculateBounds=function(){var e=this._texture.trim,i=this._texture.orig;!e||e.width===i.width&&e.height===i.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},r.prototype.getLocalBounds=function(e){return this.children.length===0?(this._localBounds||(this._localBounds=new re),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Y),e=this._localBoundsRect),this._localBounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,$t);var i=this._texture.orig.width,n=this._texture.orig.height,a=-i*this.anchor.x,s=0;return $t.x>=a&&$t.x<a+i&&(s=-n*this.anchor.y,$t.y>=s&&$t.y<s+n)},r.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var i=typeof e=="boolean"?e:e&&e.texture;if(i){var n=typeof e=="boolean"?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null},r.from=function(e,i){var n=e instanceof U?e:U.from(e,i);return new r(n)},Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var i=Xt(this.scale.x)||1;this.scale.x=i*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var i=Xt(this.scale.y)||1;this.scale.y=i*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||U.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),r}(ut);/*!
 * @pixi/text - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var xr=function(t,r){return xr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},xr(t,r)};function Vo(t,r){xr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var se;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(se||(se={}));var qe={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:se.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},jo=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Vt=function(){function t(r){this.styleID=0,this.reset(),Ze(this,r,r)}return t.prototype.clone=function(){var r={};return Ze(r,this,qe),new t(r)},t.prototype.reset=function(){Ze(this,qe,qe)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(r){this._breakWords!==r&&(this._breakWords=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(r){this._dropShadow!==r&&(this._dropShadow=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(r){this._dropShadowAlpha!==r&&(this._dropShadowAlpha=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(r){this._dropShadowAngle!==r&&(this._dropShadowAngle=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(r){this._dropShadowBlur!==r&&(this._dropShadowBlur=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(r){var e=Ke(r);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(r){this._dropShadowDistance!==r&&(this._dropShadowDistance=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(r){var e=Ke(r);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(r){this._fillGradientType!==r&&(this._fillGradientType=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(r){Yo(this._fillGradientStops,r)||(this._fillGradientStops=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(r){this.fontFamily!==r&&(this._fontFamily=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(r){this._fontStyle!==r&&(this._fontStyle=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(r){this._fontVariant!==r&&(this._fontVariant=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(r){this._fontWeight!==r&&(this._fontWeight=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(r){this._lineHeight!==r&&(this._lineHeight=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(r){this._leading!==r&&(this._leading=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(r){this._lineJoin!==r&&(this._lineJoin=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(r){this._miterLimit!==r&&(this._miterLimit=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(r){this._padding!==r&&(this._padding=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(r){var e=Ke(r);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(r){this._strokeThickness!==r&&(this._strokeThickness=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(r){this._textBaseline!==r&&(this._textBaseline=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(r){this._trim!==r&&(this._trim=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(r){this._whiteSpace!==r&&(this._whiteSpace=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(r){this._wordWrap!==r&&(this._wordWrap=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(r){this._wordWrapWidth!==r&&(this._wordWrapWidth=r,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var r=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var n=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&jo.indexOf(n)<0&&(n='"'+n+'"'),e[i]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+r+" "+e.join(",")},t}();function Nn(t){return typeof t=="number"?hs(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function Ke(t){if(Array.isArray(t)){for(var r=0;r<t.length;++r)t[r]=Nn(t[r]);return t}else return Nn(t)}function Yo(t,r){if(!Array.isArray(t)||!Array.isArray(r)||t.length!==r.length)return!1;for(var e=0;e<t.length;++e)if(t[e]!==r[e])return!1;return!0}function Ze(t,r,e){for(var i in e)Array.isArray(r[i])?t[i]=r[i].slice():t[i]=r[i]}var ft=function(){function t(r,e,i,n,a,s,o,u,h){this.text=r,this.style=e,this.width=i,this.height=n,this.lines=a,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=u,this.fontProperties=h}return t.measureText=function(r,e,i,n){n===void 0&&(n=t._canvas),i=i==null?e.wordWrap:i;var a=e.toFontString(),s=t.measureFont(a);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);var o=n.getContext("2d");o.font=a;for(var u=i?t.wordWrap(r,e,n):r,h=u.split(/(?:\r\n|\r|\n)/),l=new Array(h.length),d=0,f=0;f<h.length;f++){var c=o.measureText(h[f]).width+(h[f].length-1)*e.letterSpacing;l[f]=c,d=Math.max(d,c)}var _=d+e.strokeThickness;e.dropShadow&&(_+=e.dropShadowDistance);var p=e.lineHeight||s.fontSize+e.strokeThickness,v=Math.max(p,s.fontSize+e.strokeThickness)+(h.length-1)*(p+e.leading);return e.dropShadow&&(v+=e.dropShadowDistance),new t(r,e,_,v,h,l,p+e.leading,d,s)},t.wordWrap=function(r,e,i){i===void 0&&(i=t._canvas);for(var n=i.getContext("2d"),a=0,s="",o="",u=Object.create(null),h=e.letterSpacing,l=e.whiteSpace,d=t.collapseSpaces(l),f=t.collapseNewlines(l),c=!d,_=e.wordWrapWidth+h,p=t.tokenize(r),v=0;v<p.length;v++){var m=p[v];if(t.isNewline(m)){if(!f){o+=t.addLine(s),c=!d,s="",a=0;continue}m=" "}if(d){var T=t.isBreakingSpace(m),x=t.isBreakingSpace(s[s.length-1]);if(T&&x)continue}var I=t.getFromCache(m,h,u,n);if(I>_)if(s!==""&&(o+=t.addLine(s),s="",a=0),t.canBreakWords(m,e.breakWords))for(var y=t.wordWrapSplit(m),g=0;g<y.length;g++){for(var R=y[g],N=1;y[g+N];){var b=y[g+N],P=R[R.length-1];if(!t.canBreakChars(P,b,m,g,e.breakWords))R+=b;else break;N++}g+=R.length-1;var O=t.getFromCache(R,h,u,n);O+a>_&&(o+=t.addLine(s),c=!1,s="",a=0),s+=R,a+=O}else{s.length>0&&(o+=t.addLine(s),s="",a=0);var w=v===p.length-1;o+=t.addLine(m,!w),c=!1,s="",a=0}else I+a>_&&(c=!1,o+=t.addLine(s),s="",a=0),(s.length>0||!t.isBreakingSpace(m)||c)&&(s+=m,a+=I)}return o+=t.addLine(s,!1),o},t.addLine=function(r,e){return e===void 0&&(e=!0),r=t.trimRight(r),r=e?r+`
`:r,r},t.getFromCache=function(r,e,i,n){var a=i[r];if(typeof a!="number"){var s=r.length*e;a=n.measureText(r).width+s,i[r]=a}return a},t.collapseSpaces=function(r){return r==="normal"||r==="pre-line"},t.collapseNewlines=function(r){return r==="normal"},t.trimRight=function(r){if(typeof r!="string")return"";for(var e=r.length-1;e>=0;e--){var i=r[e];if(!t.isBreakingSpace(i))break;r=r.slice(0,-1)}return r},t.isNewline=function(r){return typeof r!="string"?!1:t._newlines.indexOf(r.charCodeAt(0))>=0},t.isBreakingSpace=function(r,e){return typeof r!="string"?!1:t._breakingSpaces.indexOf(r.charCodeAt(0))>=0},t.tokenize=function(r){var e=[],i="";if(typeof r!="string")return e;for(var n=0;n<r.length;n++){var a=r[n],s=r[n+1];if(t.isBreakingSpace(a,s)||t.isNewline(a)){i!==""&&(e.push(i),i=""),e.push(a);continue}i+=a}return i!==""&&e.push(i),e},t.canBreakWords=function(r,e){return e},t.canBreakChars=function(r,e,i,n,a){return!0},t.wordWrapSplit=function(r){return r.split("")},t.measureFont=function(r){if(t._fonts[r])return t._fonts[r];var e={ascent:0,descent:0,fontSize:0},i=t._canvas,n=t._context;n.font=r;var a=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(n.measureText(a).width),o=Math.ceil(n.measureText(t.BASELINE_SYMBOL).width),u=Math.ceil(t.HEIGHT_MULTIPLIER*o);o=o*t.BASELINE_MULTIPLIER|0,i.width=s,i.height=u,n.fillStyle="#f00",n.fillRect(0,0,s,u),n.font=r,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(a,0,o);var h=n.getImageData(0,0,s,u).data,l=h.length,d=s*4,f=0,c=0,_=!1;for(f=0;f<o;++f){for(var p=0;p<d;p+=4)if(h[c+p]!==255){_=!0;break}if(!_)c+=d;else break}for(e.ascent=o-f,c=l-d,_=!1,f=u;f>o;--f){for(var p=0;p<d;p+=4)if(h[c+p]!==255){_=!0;break}if(!_)c-=d;else break}return e.descent=f-o,e.fontSize=e.ascent+e.descent,t._fonts[r]=e,e},t.clearMetrics=function(r){r===void 0&&(r=""),r?delete t._fonts[r]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var r=void 0;try{var e=new OffscreenCanvas(0,0),i=e.getContext("2d");if(i&&i.measureText)return t.__canvas=e,e;r=document.createElement("canvas")}catch{r=document.createElement("canvas")}r.width=r.height=10,t.__canvas=r}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d")),t.__context},enumerable:!1,configurable:!0}),t}();ft._fonts={};ft.METRICS_STRING="|\xC9q\xC5";ft.BASELINE_SYMBOL="M";ft.BASELINE_MULTIPLIER=1.4;ft.HEIGHT_MULTIPLIER=2;ft._newlines=[10,13];ft._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var zo={texture:!0,children:!1,baseTexture:!0},za=function(t){Vo(r,t);function r(e,i,n){var a=this,s=!1;n||(n=document.createElement("canvas"),s=!0),n.width=3,n.height=3;var o=U.from(n);return o.orig=new Y,o.trim=new Y,a=t.call(this,o)||this,a._ownCanvas=s,a.canvas=n,a.context=a.canvas.getContext("2d"),a._resolution=K.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=e,a.style=i,a.localStyleID=-1,a}return r.prototype.updateText=function(e){var i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),!(!this.dirty&&e)){this._font=this._style.toFontString();var n=this.context,a=ft.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=a.width,o=a.height,u=a.lines,h=a.lineHeight,l=a.lineWidths,d=a.maxLineWidth,f=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+i.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+i.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=i.strokeThickness,n.textBaseline=i.textBaseline,n.lineJoin=i.lineJoin,n.miterLimit=i.miterLimit;for(var c,_,p=i.dropShadow?2:1,v=0;v<p;++v){var m=i.dropShadow&&v===0,T=m?Math.ceil(Math.max(1,o)+i.padding*2):0,x=T*this._resolution;if(m){n.fillStyle="black",n.strokeStyle="black";var I=i.dropShadowColor,y=Qt(typeof I=="number"?I:Pa(I)),g=i.dropShadowBlur*this._resolution,R=i.dropShadowDistance*this._resolution;n.shadowColor="rgba("+y[0]*255+","+y[1]*255+","+y[2]*255+","+i.dropShadowAlpha+")",n.shadowBlur=g,n.shadowOffsetX=Math.cos(i.dropShadowAngle)*R,n.shadowOffsetY=Math.sin(i.dropShadowAngle)*R+x}else n.fillStyle=this._generateFillStyle(i,u,a),n.strokeStyle=i.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;var N=(h-f.fontSize)/2;(!r.nextLineHeightBehavior||h-f.fontSize<0)&&(N=0);for(var b=0;b<u.length;b++)c=i.strokeThickness/2,_=i.strokeThickness/2+b*h+f.ascent+N,i.align==="right"?c+=d-l[b]:i.align==="center"&&(c+=(d-l[b])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(u[b],c+i.padding,_+i.padding-T,!0),i.fill&&this.drawLetterSpacing(u[b],c+i.padding,_+i.padding-T)}this.updateTexture()}},r.prototype.drawLetterSpacing=function(e,i,n,a){a===void 0&&(a=!1);var s=this._style,o=s.letterSpacing,u=r.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(o===0||u){u&&(this.context.letterSpacing=o,this.context.textLetterSpacing=o),a?this.context.strokeText(e,i,n):this.context.fillText(e,i,n);return}for(var h=i,l=Array.from?Array.from(e):e.split(""),d=this.context.measureText(e).width,f=0,c=0;c<l.length;++c){var _=l[c];a?this.context.strokeText(_,h,n):this.context.fillText(_,h,n);for(var p="",v=c+1;v<l.length;++v)p+=l[v];f=this.context.measureText(p).width,h+=d-f+o,d=f}},r.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var i=os(e);i.data&&(e.width=i.width,e.height=i.height,this.context.putImageData(i.data,0,0))}var n=this._texture,a=this._style,s=a.trim?0:a.padding,o=n.baseTexture;n.trim.width=n._frame.width=e.width/this._resolution,n.trim.height=n._frame.height=e.height/this._resolution,n.trim.x=-s,n.trim.y=-s,n.orig.width=n._frame.width-s*2,n.orig.height=n._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),n.updateUvs(),this.dirty=!1},r.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},r.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},r.prototype.getBounds=function(e,i){return this.updateText(!0),this._textureID===-1&&(e=!1),t.prototype.getBounds.call(this,e,i)},r.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},r.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},r.prototype._generateFillStyle=function(e,i,n){var a=e.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var s,o=e.dropShadow?e.dropShadowDistance:0,u=e.padding||0,h=this.canvas.width/this._resolution-o-u*2,l=this.canvas.height/this._resolution-o-u*2,d=a.slice(),f=e.fillGradientStops.slice();if(!f.length)for(var c=d.length+1,_=1;_<c;++_)f.push(_/c);if(d.unshift(a[0]),f.unshift(0),d.push(a[a.length-1]),f.push(1),e.fillGradientType===se.LINEAR_VERTICAL){s=this.context.createLinearGradient(h/2,u,h/2,l+u);for(var p=n.fontProperties.fontSize+e.strokeThickness,_=0;_<i.length;_++){var v=n.lineHeight*(_-1)+p,m=n.lineHeight*_,T=m;_>0&&v>m&&(T=(m+v)/2);var x=m+p,I=n.lineHeight*(_+1),y=x;_+1<i.length&&I<x&&(y=(x+I)/2);for(var g=(y-T)/l,R=0;R<d.length;R++){var N=0;typeof f[R]=="number"?N=f[R]:N=R/d.length;var b=Math.min(1,Math.max(0,T/l+N*g));b=Number(b.toFixed(5)),s.addColorStop(b,d[R])}}}else{s=this.context.createLinearGradient(u,l/2,h+u,l/2);for(var P=d.length+1,O=1,_=0;_<d.length;_++){var w=void 0;typeof f[_]=="number"?w=f[_]:w=O/P,s.addColorStop(w,d[_]),O++}}return s},r.prototype.destroy=function(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},zo,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(r.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var i=Xt(this.scale.x)||1;this.scale.x=i*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var i=Xt(this.scale.y)||1;this.scale.y=i*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},e instanceof Vt?this._style=e:this._style=new Vt(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(e){e=String(e==null?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),r.nextLineHeightBehavior=!1,r.experimentalLetterSpacing=!1,r}(le);/*!
 * @pixi/prepare - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */K.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ir=function(t,r){return Ir=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},Ir(t,r)};function Wo(t,r){Ir(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var $o=function(){function t(r){this.maxItemsPerFrame=r,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function qo(t,r){var e=!1;if(t&&t._textures&&t._textures.length){for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof U){var n=t._textures[i].baseTexture;r.indexOf(n)===-1&&(r.push(n),e=!0)}}return e}function Ko(t,r){if(t.baseTexture instanceof q){var e=t.baseTexture;return r.indexOf(e)===-1&&r.push(e),!0}return!1}function Zo(t,r){if(t._texture&&t._texture instanceof U){var e=t._texture.baseTexture;return r.indexOf(e)===-1&&r.push(e),!0}return!1}function Jo(t,r){return r instanceof za?(r.updateText(!0),!0):!1}function Qo(t,r){if(r instanceof Vt){var e=r.toFontString();return ft.measureFont(e),!0}return!1}function th(t,r){if(t instanceof za){r.indexOf(t.style)===-1&&r.push(t.style),r.indexOf(t)===-1&&r.push(t);var e=t._texture.baseTexture;return r.indexOf(e)===-1&&r.push(e),!0}return!1}function eh(t,r){return t instanceof Vt?(r.indexOf(t)===-1&&r.push(t),!0):!1}var rh=function(){function t(r){var e=this;this.limiter=new $o(K.UPLOADS_PER_FRAME),this.renderer=r,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!e.queue||e.prepareItems()},this.registerFindHook(th),this.registerFindHook(eh),this.registerFindHook(qo),this.registerFindHook(Ko),this.registerFindHook(Zo),this.registerUploadHook(Jo),this.registerUploadHook(Qo)}return t.prototype.upload=function(r,e){typeof r=="function"&&(e=r,r=null),r&&this.add(r),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,vt.system.addOnce(this.tick,this,Ce.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var r=this.queue[0],e=!1;if(r&&!r._destroyed){for(var i=0,n=this.uploadHooks.length;i<n;i++)if(this.uploadHooks[i](this.uploadHookHelper,r)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)vt.system.addOnce(this.tick,this,Ce.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var i=0,n=a.length;i<n;i++)a[i]()}},t.prototype.registerFindHook=function(r){return r&&this.addHooks.push(r),this},t.prototype.registerUploadHook=function(r){return r&&this.uploadHooks.push(r),this},t.prototype.add=function(r){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](r,this.queue);e++);if(r instanceof ut)for(var e=r.children.length-1;e>=0;e--)this.add(r.children[e]);return this},t.prototype.destroy=function(){this.ticking&&vt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function Wa(t,r){return r instanceof q?(r._glTextures[t.CONTEXT_UID]||t.texture.bind(r),!0):!1}function ih(t,r){if(!(r instanceof we))return!1;var e=r.geometry;r.finishPoly(),e.updateBatches();for(var i=e.batches,n=0;n<i.length;n++){var a=i[n].style.texture;a&&Wa(t,a.baseTexture)}return e.batchable||t.geometry.bind(e,r._resolveDirectShader(t)),!0}function nh(t,r){return t instanceof we?(r.push(t),!0):!1}var ah=function(t){Wo(r,t);function r(e){var i=t.call(this,e)||this;return i.uploadHookHelper=i.renderer,i.registerFindHook(nh),i.registerUploadHook(Wa),i.registerUploadHook(ih),i}return r}(rh),iu=function(){function t(r){this.maxMilliseconds=r,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();/*!
 * @pixi/spritesheet - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var sh=function(){function t(r,e,i){i===void 0&&(i=null),this._texture=r instanceof U?r:null,this.baseTexture=r instanceof q?r:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var n=this.baseTexture.resource;this.resolution=this._updateResolution(i||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(r){r===void 0&&(r=null);var e=this.data.meta.scale,i=Ra(r,null);return i===null&&(i=e!==void 0?parseFloat(e):1),i!==1&&this.baseTexture.setResolution(i),i},t.prototype.parse=function(r){this._batchIndex=0,this._callback=r,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(r){for(var e=r,i=t.BATCH_SIZE;e-r<i&&e<this._frameKeys.length;){var n=this._frameKeys[e],a=this._frames[n],s=a.frame;if(s){var o=null,u=null,h=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,l=new Y(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);a.rotated?o=new Y(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Y(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(u=new Y(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new U(this.baseTexture,o,l,u,a.rotated?2:0,a.anchor),U.addToCache(this.textures[n],n)}e++}},t.prototype._processAnimations=function(){var r=this.data.animations||{};for(var e in r){this.animations[e]=[];for(var i=0;i<r[e].length;i++){var n=r[e][i];this.animations[e].push(this.textures[n])}}},t.prototype._parseComplete=function(){var r=this._callback;this._callback=null,this._batchIndex=0,r.call(this,this.textures)},t.prototype._nextBatch=function(){var r=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){r._batchIndex*t.BATCH_SIZE<r._frameKeys.length?r._nextBatch():(r._processAnimations(),r._parseComplete())},0)},t.prototype.destroy=function(r){var e;r===void 0&&(r=!1);for(var i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,r&&((e=this._texture)===null||e===void 0||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),oh=function(){function t(){}return t.use=function(r,e){var i,n,a=this,s=r.name+"_image";if(!r.data||r.type!==H.TYPE.JSON||!r.data.frames||a.resources[s]){e();return}var o=(n=(i=r.data)===null||i===void 0?void 0:i.meta)===null||n===void 0?void 0:n.related_multi_packs;if(Array.isArray(o))for(var u=function(_){if(typeof _!="string")return"continue";var p=_.replace(".json",""),v=Kt.resolve(r.url.replace(a.baseUrl,""),_);if(a.resources[p]||Object.values(a.resources).some(function(T){return Kt.format(Kt.parse(T.url))===v}))return"continue";var m={crossOrigin:r.crossOrigin,loadType:H.LOAD_TYPE.XHR,xhrType:H.XHR_RESPONSE_TYPE.JSON,parentResource:r,metadata:r.metadata};a.add(p,v,m)},h=0,l=o;h<l.length;h++){var d=l[h];u(d)}var f={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},c=t.getResourcePath(r,a.baseUrl);a.add(s,c,f,function(p){if(p.error){e(p.error);return}var v=new sh(p.texture,r.data,r.url);v.parse(function(){r.spritesheet=v,r.textures=v.textures,e()})})},t.getResourcePath=function(r,e){return r.isDataUrl?r.data.meta.image:Kt.resolve(r.url.replace(e,""),r.data.meta.image)},t}();/*!
 * @pixi/sprite-tiling - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Pr=function(t,r){return Pr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},Pr(t,r)};function $a(t,r){Pr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var qt=new Z,nu=function(t){$a(r,t);function r(e,i,n){i===void 0&&(i=100),n===void 0&&(n=100);var a=t.call(this,e)||this;return a.tileTransform=new Dr,a._width=i,a._height=n,a.uvMatrix=a.texture.uvMatrix||new Ca(e),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(r.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),r.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},r.prototype._render=function(e){var i=this._texture;!i||!i.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},r.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,i=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,i,n,a)},r.prototype.getLocalBounds=function(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Y),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,qt);var i=this._width,n=this._height,a=-i*this.anchor._x;if(qt.x>=a&&qt.x<a+i){var s=-n*this.anchor._y;if(qt.y>=s&&qt.y<s+n)return!0}return!1},r.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},r.from=function(e,i){var n=e instanceof U?e:U.from(e,i);return new r(n,i.width,i.height)},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),r}(le),hh=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,An=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,uh=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,lh=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,fh=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,xe=new xt,ch=function(t){$a(r,t);function r(e){var i=t.call(this,e)||this;return e.runners.contextChange.add(i),i.quad=new us,i.state=Ue.for2d(),i}return r.prototype.contextChange=function(){var e=this.renderer,i={globals:e.globalUniforms};this.simpleShader=Ht.from(An,hh,i),this.shader=e.context.webGLVersion>1?Ht.from(lh,fh,i):Ht.from(An,uh,i)},r.prototype.render=function(e){var i=this.renderer,n=this.quad,a=n.vertices;a[0]=a[6]=e._width*-e.anchor.x,a[1]=a[3]=e._height*-e.anchor.y,a[2]=a[4]=e._width*(1-e.anchor.x),a[5]=a[7]=e._height*(1-e.anchor.y);var s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;a=n.uvs,a[0]=a[6]=-s,a[1]=a[3]=-o,a[2]=a[4]=1-s,a[5]=a[7]=1-o,n.invalidate();var u=e._texture,h=u.baseTexture,l=e.tileTransform.localTransform,d=e.uvMatrix,f=h.isPowerOfTwo&&u.frame.width===h.width&&u.frame.height===h.height;f&&(h._glTextures[i.CONTEXT_UID]?f=h.wrapMode!==kt.CLAMP:h.wrapMode===kt.CLAMP&&(h.wrapMode=kt.REPEAT));var c=f?this.simpleShader:this.shader,_=u.width,p=u.height,v=e._width,m=e._height;xe.set(l.a*_/v,l.b*_/m,l.c*p/v,l.d*p/m,l.tx/v,l.ty/m),xe.invert(),f?xe.prepend(d.mapCoord):(c.uniforms.uMapCoord=d.mapCoord.toArray(!0),c.uniforms.uClampFrame=d.uClampFrame,c.uniforms.uClampOffset=d.uClampOffset),c.uniforms.uTransform=xe.toArray(!0),c.uniforms.uColor=Ea(e.tint,e.worldAlpha,c.uniforms.uColor,h.alphaMode),c.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),c.uniforms.uSampler=u,i.shader.bind(c),i.geometry.bind(n),this.state.blendMode=ga(e.blendMode,h.alphaMode),i.state.set(this.state),i.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},r}(Ta);/*!
 * @pixi/mesh - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Rr=function(t,r){return Rr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},Rr(t,r)};function Wr(t,r){Rr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var dh=function(){function t(r,e){this.uvBuffer=r,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(r){if(!(!r&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),Je=new Z,wn=new Pe,oe=function(t){Wr(r,t);function r(e,i,n,a){a===void 0&&(a=Bt.TRIANGLES);var s=t.call(this)||this;return s.geometry=e,s.shader=i,s.state=n||Ue.for2d(),s.drawMode=a,s.start=0,s.size=0,s.uvs=null,s.indices=null,s.vertexData=new Float32Array(1),s.vertexDirty=-1,s._transformID=-1,s._roundPixels=K.ROUND_PIXELS,s.batchUvs=null,s}return Object.defineProperty(r.prototype,"geometry",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),r.prototype._render=function(e){var i=this.geometry.buffers[0].data,n=this.shader;n.batchable&&this.drawMode===Bt.TRIANGLES&&i.length<r.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)},r.prototype._renderDefault=function(e){var i=this.shader;i.alpha=this.worldAlpha,i.update&&i.update(),e.batch.flush(),i.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(i),e.state.set(this.state),e.geometry.bind(this.geometry,i),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},r.prototype._renderToBatch=function(e){var i=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=i.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;var a=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[a]),e.plugins[a].render(this)},r.prototype.calculateVertices=function(){var e=this.geometry,i=e.buffers[0],n=i.data,a=i._updateID;if(!(a===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));for(var s=this.transform.worldTransform,o=s.a,u=s.b,h=s.c,l=s.d,d=s.tx,f=s.ty,c=this.vertexData,_=0;_<c.length/2;_++){var p=n[_*2],v=n[_*2+1];c[_*2]=o*p+h*v+d,c[_*2+1]=u*p+l*v+f}if(this._roundPixels)for(var m=K.RESOLUTION,_=0;_<c.length;++_)c[_]=Math.round((c[_]*m|0)/m);this.vertexDirty=a}},r.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],i=this.shader;i.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new dh(e,i.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},r.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},r.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Je);for(var i=this.geometry.getBuffer("aVertexPosition").data,n=wn.points,a=this.geometry.getIndex().data,s=a.length,o=this.drawMode===4?3:1,u=0;u+2<s;u+=o){var h=a[u]*2,l=a[u+1]*2,d=a[u+2]*2;if(n[0]=i[h],n[1]=i[h+1],n[2]=i[l],n[3]=i[l+1],n[4]=i[d],n[5]=i[d+1],wn.contains(Je.x,Je.y))return!0}return!1},r.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},r.BATCHABLE_SIZE=100,r}(ut),ph=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,_h=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,he=function(t){Wr(r,t);function r(e,i){var n=this,a={uSampler:e,alpha:1,uTextureMatrix:xt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i),i.uniforms&&Object.assign(a,i.uniforms),n=t.call(this,i.program||Na.from(_h,ph),a)||this,n._colorDirty=!1,n.uvMatrix=new Ca(e),n.batchable=i.program===void 0,n.pluginName=i.pluginName,n.tint=i.tint,n.alpha=i.alpha,n}return Object.defineProperty(r.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),r.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;Ea(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},r}(Ht),Se=function(t){Wr(r,t);function r(e,i,n){var a=t.call(this)||this,s=new Mt(e),o=new Mt(i,!0),u=new Mt(n,!0,!0);return a.addAttribute("aVertexPosition",s,2,!1,V.FLOAT).addAttribute("aTextureCoord",o,2,!1,V.FLOAT).addIndex(u),a._updateId=-1,a}return Object.defineProperty(r.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),r}(ba);/*!
 * @pixi/text-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Er=function(t,r){return Er=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},Er(t,r)};function vh(t,r){Er(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Oe=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),mh=function(){function t(){}return t.test=function(r){return typeof r=="string"&&r.indexOf("info face=")===0},t.parse=function(r){var e=r.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var n in e){var a=e[n].match(/^[a-z]+/gm)[0],s=e[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(var u in s){var h=s[u].split("="),l=h[0],d=h[1].replace(/"/gm,""),f=parseFloat(d),c=isNaN(f)?d:f;o[l]=c}i[a].push(o)}var _=new Oe;return i.info.forEach(function(p){return _.info.push({face:p.face,size:parseInt(p.size,10)})}),i.common.forEach(function(p){return _.common.push({lineHeight:parseInt(p.lineHeight,10)})}),i.page.forEach(function(p){return _.page.push({id:parseInt(p.id,10),file:p.file})}),i.char.forEach(function(p){return _.char.push({id:parseInt(p.id,10),page:parseInt(p.page,10),x:parseInt(p.x,10),y:parseInt(p.y,10),width:parseInt(p.width,10),height:parseInt(p.height,10),xoffset:parseInt(p.xoffset,10),yoffset:parseInt(p.yoffset,10),xadvance:parseInt(p.xadvance,10)})}),i.kerning.forEach(function(p){return _.kerning.push({first:parseInt(p.first,10),second:parseInt(p.second,10),amount:parseInt(p.amount,10)})}),i.distanceField.forEach(function(p){return _.distanceField.push({distanceRange:parseInt(p.distanceRange,10),fieldType:p.fieldType})}),_},t}(),Cr=function(){function t(){}return t.test=function(r){return r instanceof XMLDocument&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(r){for(var e=new Oe,i=r.getElementsByTagName("info"),n=r.getElementsByTagName("common"),a=r.getElementsByTagName("page"),s=r.getElementsByTagName("char"),o=r.getElementsByTagName("kerning"),u=r.getElementsByTagName("distanceField"),h=0;h<i.length;h++)e.info.push({face:i[h].getAttribute("face"),size:parseInt(i[h].getAttribute("size"),10)});for(var h=0;h<n.length;h++)e.common.push({lineHeight:parseInt(n[h].getAttribute("lineHeight"),10)});for(var h=0;h<a.length;h++)e.page.push({id:parseInt(a[h].getAttribute("id"),10)||0,file:a[h].getAttribute("file")});for(var h=0;h<s.length;h++){var l=s[h];e.char.push({id:parseInt(l.getAttribute("id"),10),page:parseInt(l.getAttribute("page"),10)||0,x:parseInt(l.getAttribute("x"),10),y:parseInt(l.getAttribute("y"),10),width:parseInt(l.getAttribute("width"),10),height:parseInt(l.getAttribute("height"),10),xoffset:parseInt(l.getAttribute("xoffset"),10),yoffset:parseInt(l.getAttribute("yoffset"),10),xadvance:parseInt(l.getAttribute("xadvance"),10)})}for(var h=0;h<o.length;h++)e.kerning.push({first:parseInt(o[h].getAttribute("first"),10),second:parseInt(o[h].getAttribute("second"),10),amount:parseInt(o[h].getAttribute("amount"),10)});for(var h=0;h<u.length;h++)e.distanceField.push({fieldType:u[h].getAttribute("fieldType"),distanceRange:parseInt(u[h].getAttribute("distanceRange"),10)});return e},t}(),gh=function(){function t(){}return t.test=function(r){if(typeof r=="string"&&r.indexOf("<font>")>-1){var e=new globalThis.DOMParser().parseFromString(r,"text/xml");return Cr.test(e)}return!1},t.parse=function(r){var e=new globalThis.DOMParser().parseFromString(r,"text/xml");return Cr.parse(e)},t}(),Qe=[mh,Cr,gh];function qa(t){for(var r=0;r<Qe.length;r++)if(Qe[r].test(t))return Qe[r];return null}function yh(t,r,e,i,n,a){var s=e.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;var o,u=e.dropShadow?e.dropShadowDistance:0,h=e.padding||0,l=t.width/i-u-h*2,d=t.height/i-u-h*2,f=s.slice(),c=e.fillGradientStops.slice();if(!c.length)for(var _=f.length+1,p=1;p<_;++p)c.push(p/_);if(f.unshift(s[0]),c.unshift(0),f.push(s[s.length-1]),c.push(1),e.fillGradientType===se.LINEAR_VERTICAL){o=r.createLinearGradient(l/2,h,l/2,d+h);for(var v=0,m=a.fontProperties.fontSize+e.strokeThickness,T=m/d,p=0;p<n.length;p++)for(var x=a.lineHeight*p,I=0;I<f.length;I++){var y=0;typeof c[I]=="number"?y=c[I]:y=I/f.length;var g=x/d+y*T,R=Math.max(v,g);R=Math.min(R,1),o.addColorStop(R,f[I]),v=R}}else{o=r.createLinearGradient(h,d/2,l+h,d/2);for(var N=f.length+1,b=1,p=0;p<f.length;p++){var P=void 0;typeof c[p]=="number"?P=c[p]:P=b/N,o.addColorStop(P,f[p]),b++}}return o}function Th(t,r,e,i,n,a,s){var o=e.text,u=e.fontProperties;r.translate(i,n),r.scale(a,a);var h=s.strokeThickness/2,l=-(s.strokeThickness/2);if(r.font=s.toFontString(),r.lineWidth=s.strokeThickness,r.textBaseline=s.textBaseline,r.lineJoin=s.lineJoin,r.miterLimit=s.miterLimit,r.fillStyle=yh(t,r,s,a,[o],e),r.strokeStyle=s.stroke,s.dropShadow){var d=s.dropShadowColor,f=Qt(typeof d=="number"?d:Pa(d)),c=s.dropShadowBlur*a,_=s.dropShadowDistance*a;r.shadowColor="rgba("+f[0]*255+","+f[1]*255+","+f[2]*255+","+s.dropShadowAlpha+")",r.shadowBlur=c,r.shadowOffsetX=Math.cos(s.dropShadowAngle)*_,r.shadowOffsetY=Math.sin(s.dropShadowAngle)*_}else r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;s.stroke&&s.strokeThickness&&r.strokeText(o,h,l+e.lineHeight-u.descent),s.fill&&r.fillText(o,h,l+e.lineHeight-u.descent),r.setTransform(1,0,0,1,0,0),r.fillStyle="rgba(0, 0, 0, 0)"}function Ka(t){return Array.from?Array.from(t):t.split("")}function bh(t){typeof t=="string"&&(t=[t]);for(var r=[],e=0,i=t.length;e<i;e++){var n=t[e];if(Array.isArray(n)){if(n.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var a=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<a)throw new Error("[BitmapFont]: Invalid character range.");for(var o=a,u=s;o<=u;o++)r.push(String.fromCharCode(o))}else r.push.apply(r,Ka(n))}if(r.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return r}function Ee(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var Ft=function(){function t(r,e,i){var n,a,s=r.info[0],o=r.common[0],u=r.page[0],h=r.distanceField[0],l=Ra(u.file),d={};this._ownsTextures=i,this.font=s.face,this.size=s.size,this.lineHeight=o.lineHeight/l,this.chars={},this.pageTextures=d;for(var f=0;f<r.page.length;f++){var c=r.page[f],_=c.id,p=c.file;d[_]=e instanceof Array?e[f]:e[p],(h==null?void 0:h.fieldType)&&h.fieldType!=="none"&&(d[_].baseTexture.alphaMode=Mr.NO_PREMULTIPLIED_ALPHA)}for(var f=0;f<r.char.length;f++){var v=r.char[f],_=v.id,m=v.page,T=r.char[f],x=T.x,I=T.y,y=T.width,g=T.height,R=T.xoffset,N=T.yoffset,b=T.xadvance;x/=l,I/=l,y/=l,g/=l,R/=l,N/=l,b/=l;var P=new Y(x+d[m].frame.x/l,I+d[m].frame.y/l,y,g);this.chars[_]={xOffset:R,yOffset:N,xAdvance:b,kerning:{},texture:new U(d[m].baseTexture,P),page:m}}for(var f=0;f<r.kerning.length;f++){var O=r.kerning[f],w=O.first,G=O.second,j=O.amount;w/=l,G/=l,j/=l,this.chars[G]&&(this.chars[G].kerning[w]=j)}this.distanceFieldRange=h==null?void 0:h.distanceRange,this.distanceFieldType=(a=(n=h==null?void 0:h.fieldType)===null||n===void 0?void 0:n.toLowerCase())!==null&&a!==void 0?a:"none"}return t.prototype.destroy=function(){for(var r in this.chars)this.chars[r].texture.destroy(),this.chars[r].texture=null;for(var r in this.pageTextures)this._ownsTextures&&this.pageTextures[r].destroy(!0),this.pageTextures[r]=null;this.chars=null,this.pageTextures=null},t.install=function(r,e,i){var n;if(r instanceof Oe)n=r;else{var a=qa(r);if(!a)throw new Error("Unrecognized data format for font.");n=a.parse(r)}e instanceof U&&(e=[e]);var s=new t(n,e,i);return t.available[s.font]=s,s},t.uninstall=function(r){var e=t.available[r];if(!e)throw new Error("No font found named '"+r+"'");e.destroy(),delete t.available[r]},t.from=function(r,e,i){if(!r)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},t.defaultOptions,i),a=n.chars,s=n.padding,o=n.resolution,u=n.textureWidth,h=n.textureHeight,l=bh(a),d=e instanceof Vt?e:new Vt(e),f=u,c=new Oe;c.info[0]={face:d.fontFamily,size:d.fontSize},c.common[0]={lineHeight:d.fontSize};for(var _=0,p=0,v,m,T,x=0,I=[],y=0;y<l.length;y++){v||(v=document.createElement("canvas"),v.width=u,v.height=h,m=v.getContext("2d"),T=new q(v,{resolution:o}),I.push(new U(T)),c.page.push({id:I.length-1,file:""}));var g=ft.measureText(l[y],d,!1,v),R=g.width,N=Math.ceil(g.height),b=Math.ceil((d.fontStyle==="italic"?2:1)*R);if(p>=h-N*o){if(p===0)throw new Error("[BitmapFont] textureHeight "+h+"px is "+("too small for "+d.fontSize+"px fonts"));--y,v=null,m=null,T=null,p=0,_=0,x=0;continue}if(x=Math.max(N+g.fontProperties.descent,x),b*o+_>=f){--y,p+=x*o,p=Math.ceil(p),_=0,x=0;continue}Th(v,m,g,_,p,o,d);var P=Ee(g.text);c.char.push({id:P,page:I.length-1,x:_/o,y:p/o,width:b,height:N,xoffset:0,yoffset:0,xadvance:Math.ceil(R-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0))}),_+=(b+2*s)*o,_=Math.ceil(_)}for(var y=0,O=l.length;y<O;y++)for(var w=l[y],G=0;G<O;G++){var j=l[G],E=m.measureText(w).width,C=m.measureText(j).width,L=m.measureText(w+j).width,z=L-(E+C);z&&c.kerning.push({first:Ee(w),second:Ee(j),amount:z})}var B=new t(c,I,!0);return t.available[r]!==void 0&&t.uninstall(r),t.available[r]=B,B},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),xh=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,Ih=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,Ph=[],Rh=[],On=[],au=function(t){vh(r,t);function r(e,i){i===void 0&&(i={});var n=t.call(this)||this;n._tint=16777215;var a=Object.assign({},r.styleDefaults,i),s=a.align,o=a.tint,u=a.maxWidth,h=a.letterSpacing,l=a.fontName,d=a.fontSize;if(!Ft.available[l])throw new Error('Missing BitmapFont "'+l+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=s,n._tint=o,n._fontName=l,n._fontSize=d||Ft.available[l].size,n.text=e,n._maxWidth=u,n._maxLineHeight=0,n._letterSpacing=h,n._anchor=new Ia(function(){n.dirty=!0},n,0,0),n._roundPixels=K.ROUND_PIXELS,n.dirty=!0,n._resolution=K.RESOLUTION,n._autoResolution=!0,n._textureCache={},n}return r.prototype.updateText=function(){for(var e,i=Ft.available[this._fontName],n=this._fontSize/i.size,a=new Z,s=[],o=[],u=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=Ka(h),d=this._maxWidth*i.size/this._fontSize,f=i.distanceFieldType==="none"?Ph:Rh,c=null,_=0,p=0,v=0,m=-1,T=0,x=0,I=0,y=0,g=0;g<l.length;g++){var R=l[g],N=Ee(R);if(/(?:\s)/.test(R)&&(m=g,T=_,y++),R==="\r"||R===`
`){o.push(_),u.push(-1),p=Math.max(p,_),++v,++x,a.x=0,a.y+=i.lineHeight,c=null,y=0;continue}var b=i.chars[N];if(!!b){c&&b.kerning[c]&&(a.x+=b.kerning[c]);var P=On.pop()||{texture:U.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Z};P.texture=b.texture,P.line=v,P.charCode=N,P.position.x=a.x+b.xOffset+this._letterSpacing/2,P.position.y=a.y+b.yOffset,P.prevSpaces=y,s.push(P),_=P.position.x+Math.max(b.xAdvance,b.texture.orig.width),a.x+=b.xAdvance+this._letterSpacing,I=Math.max(I,b.yOffset+b.texture.height),c=N,m!==-1&&d>0&&a.x>d&&(++x,bt(s,1+m-x,1+g-m),g=m,m=-1,o.push(T),u.push(s.length>0?s[s.length-1].prevSpaces:0),p=Math.max(p,T),v++,a.x=0,a.y+=i.lineHeight,c=null,y=0)}}var O=l[l.length-1];O!=="\r"&&O!==`
`&&(/(?:\s)/.test(O)&&(_=T),o.push(_),p=Math.max(p,_),u.push(-1));for(var w=[],g=0;g<=v;g++){var G=0;this._align==="right"?G=p-o[g]:this._align==="center"?G=(p-o[g])/2:this._align==="justify"&&(G=u[g]<0?0:(p-o[g])/u[g]),w.push(G)}for(var j=s.length,E={},C=[],L=this._activePagesMeshData,g=0;g<L.length;g++)f.push(L[g]);for(var g=0;g<j;g++){var z=s[g].texture,B=z.baseTexture.uid;if(!E[B]){var A=f.pop();if(!A){var at=new Se,mt=void 0,ct=void 0;i.distanceFieldType==="none"?(mt=new he(U.EMPTY),ct=te.NORMAL):(mt=new he(U.EMPTY,{program:Na.from(Ih,xh),uniforms:{uFWidth:0}}),ct=te.NORMAL_NPM);var Yt=new oe(at,mt);Yt.blendMode=ct,A={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Yt,vertices:null,uvs:null,indices:null}}A.index=0,A.indexCount=0,A.vertexCount=0,A.uvsCount=0,A.total=0;var Nt=this._textureCache;Nt[B]=Nt[B]||new U(z.baseTexture),A.mesh.texture=Nt[B],A.mesh.tint=this._tint,C.push(A),E[B]=A}E[B].total++}for(var g=0;g<L.length;g++)C.indexOf(L[g])===-1&&this.removeChild(L[g].mesh);for(var g=0;g<C.length;g++)C[g].mesh.parent!==this&&this.addChild(C[g].mesh);this._activePagesMeshData=C;for(var g in E){var A=E[g],st=A.total;if(!(((e=A.indices)===null||e===void 0?void 0:e.length)>6*st)||A.vertices.length<oe.BATCHABLE_SIZE*2)A.vertices=new Float32Array(4*2*st),A.uvs=new Float32Array(4*2*st),A.indices=new Uint16Array(6*st);else for(var At=A.total,wt=A.vertices,tt=At*4*2;tt<wt.length;tt++)wt[tt]=0;A.mesh.size=6*st}for(var g=0;g<j;g++){var R=s[g],et=R.position.x+w[R.line]*(this._align==="justify"?R.prevSpaces:1);this._roundPixels&&(et=Math.round(et));var J=et*n,Q=R.position.y*n,z=R.texture,D=E[z.baseTexture.uid],It=z.frame,ot=z._uvs,F=D.index++;D.indices[F*6+0]=0+F*4,D.indices[F*6+1]=1+F*4,D.indices[F*6+2]=2+F*4,D.indices[F*6+3]=0+F*4,D.indices[F*6+4]=2+F*4,D.indices[F*6+5]=3+F*4,D.vertices[F*8+0]=J,D.vertices[F*8+1]=Q,D.vertices[F*8+2]=J+It.width*n,D.vertices[F*8+3]=Q,D.vertices[F*8+4]=J+It.width*n,D.vertices[F*8+5]=Q+It.height*n,D.vertices[F*8+6]=J,D.vertices[F*8+7]=Q+It.height*n,D.uvs[F*8+0]=ot.x0,D.uvs[F*8+1]=ot.y0,D.uvs[F*8+2]=ot.x1,D.uvs[F*8+3]=ot.y1,D.uvs[F*8+4]=ot.x2,D.uvs[F*8+5]=ot.y2,D.uvs[F*8+6]=ot.x3,D.uvs[F*8+7]=ot.y3}this._textWidth=p*n,this._textHeight=(a.y+i.lineHeight)*n;for(var g in E){var A=E[g];if(this.anchor.x!==0||this.anchor.y!==0)for(var ht=0,Ot=this._textWidth*this.anchor.x,fe=this._textHeight*this.anchor.y,$r=0;$r<A.total;$r++)A.vertices[ht++]-=Ot,A.vertices[ht++]-=fe,A.vertices[ht++]-=Ot,A.vertices[ht++]-=fe,A.vertices[ht++]-=Ot,A.vertices[ht++]-=fe,A.vertices[ht++]-=Ot,A.vertices[ht++]-=fe;this._maxLineHeight=I*n;var qr=A.mesh.geometry.getBuffer("aVertexPosition"),Kr=A.mesh.geometry.getBuffer("aTextureCoord"),Zr=A.mesh.geometry.getIndex();qr.data=A.vertices,Kr.data=A.uvs,Zr.data=A.indices,qr.update(),Kr.update(),Zr.update()}for(var g=0;g<s.length;g++)On.push(s[g])},r.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},r.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);var i=Ft.available[this._fontName],n=i.distanceFieldRange,a=i.distanceFieldType,s=i.size;if(a!=="none")for(var o=this.worldTransform,u=o.a,h=o.b,l=o.c,d=o.d,f=Math.sqrt(u*u+h*h),c=Math.sqrt(l*l+d*d),_=(Math.abs(f)+Math.abs(c))/2,p=this._fontSize/s,v=0,m=this._activePagesMeshData;v<m.length;v++){var T=m[v];T.mesh.shader.uniforms.uFWidth=_*n*p*this._resolution}t.prototype._render.call(this,e)},r.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},r.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var i=0;i<this._activePagesMeshData.length;i++)this._activePagesMeshData[i].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!Ft.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(e){e=String(e==null?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),r.prototype.destroy=function(e){var i=this._textureCache;for(var n in i){var a=i[n];a.destroy(),delete i[n]}this._textureCache=null,t.prototype.destroy.call(this,e)},r.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},r}(ut),Eh=function(){function t(){}return t.add=function(){H.setExtensionXhrType("fnt",H.XHR_RESPONSE_TYPE.TEXT)},t.use=function(r,e){var i=qa(r.data);if(!i){e();return}for(var n=t.getBaseUrl(this,r),a=i.parse(r.data),s={},o=function(p){s[p.metadata.pageFile]=p.texture,Object.keys(s).length===a.page.length&&(r.bitmapFont=Ft.install(a,s,!0),e())},u=0;u<a.page.length;++u){var h=a.page[u].file,l=n+h,d=!1;for(var f in this.resources){var c=this.resources[f];if(c.url===l){c.metadata.pageFile=h,c.texture?o(c):c.onAfterMiddleware.add(o),d=!0;break}}if(!d){var _={crossOrigin:r.crossOrigin,loadType:H.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},r.metadata.imageMetadata),parentResource:r};this.add(l,_,o)}}},t.getBaseUrl=function(r,e){var i=e.isDataUrl?"":t.dirname(e.url);return e.isDataUrl&&(i==="."&&(i=""),r.baseUrl&&i&&r.baseUrl.charAt(r.baseUrl.length-1)==="/"&&(i+="/")),i=i.replace(r.baseUrl,""),i&&i.charAt(i.length-1)!=="/"&&(i+="/"),i},t.dirname=function(r){var e=r.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===r?".":e===""?"/":e},t}();/*!
 * @pixi/filter-alpha - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Nr=function(t,r){return Nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},Nr(t,r)};function Ch(t,r){Nr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Nh=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,Ah=function(t){Ch(r,t);function r(e){e===void 0&&(e=1);var i=t.call(this,ls,Nh,{uAlpha:1})||this;return i.alpha=e,i}return Object.defineProperty(r.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),r}(Et);/*!
 * @pixi/filter-blur - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ar=function(t,r){return Ar=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},Ar(t,r)};function Za(t,r){Ar(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var wh=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Oh(t,r){var e=Math.ceil(t/2),i=wh,n="",a;r?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var o=a.replace("%index%",s.toString());o=o.replace("%sampleIndex%",s-(e-1)+".0"),n+=o,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",t.toString()),i}var Uh={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Sh=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function Gh(t){for(var r=Uh[t],e=r.length,i=Sh,n="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",s,o=0;o<t;o++){var u=a.replace("%index%",o.toString());s=o,o>=e&&(s=t-o-1),u=u.replace("%value%",r[s].toString()),n+=u,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",t.toString()),i}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Un;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Un||(Un={}));var Sn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Sn||(Sn={}));var Gn;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Gn||(Gn={}));var Ln;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Ln||(Ln={}));var Fn;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Fn||(Fn={}));var Bn;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Bn||(Bn={}));var Xn;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Xn||(Xn={}));var Dn;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Dn||(Dn={}));var Hn;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Hn||(Hn={}));var Mn;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Mn||(Mn={}));var kn;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(kn||(kn={}));var Vn;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Vn||(Vn={}));var jn;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(jn||(jn={}));var ue;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(ue||(ue={}));var Yn;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Yn||(Yn={}));var zn;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(zn||(zn={}));var Wn;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(Wn||(Wn={}));var $n;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})($n||($n={}));var qn;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(qn||(qn={}));var wr=function(t){Za(r,t);function r(e,i,n,a,s){i===void 0&&(i=8),n===void 0&&(n=4),a===void 0&&(a=K.FILTER_RESOLUTION),s===void 0&&(s=5);var o=this,u=Oh(s,e),h=Gh(s);return o=t.call(this,u,h)||this,o.horizontal=e,o.resolution=a,o._quality=0,o.quality=n,o.blur=i,o}return r.prototype.apply=function(e,i,n,a){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/i.width):this.uniforms.strength=1/n.height*(n.height/i.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/i.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/i.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,i,n,a);else{var s=e.getFilterTexture(),o=e.renderer,u=i,h=s;this.state.blend=!1,e.applyFilter(this,u,h,ue.CLEAR);for(var l=1;l<this.passes-1;l++){e.bindAndClear(u,ue.BLIT),this.uniforms.uSampler=h;var d=h;h=u,u=d,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,h,n,a),e.returnFilterTexture(s)}},Object.defineProperty(r.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+Math.abs(e)*2,this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),r}(Et),Lh=function(t){Za(r,t);function r(e,i,n,a){e===void 0&&(e=8),i===void 0&&(i=4),n===void 0&&(n=K.FILTER_RESOLUTION),a===void 0&&(a=5);var s=t.call(this)||this;return s.blurXFilter=new wr(!0,e,i,n,a),s.blurYFilter=new wr(!1,e,i,n,a),s.resolution=n,s.quality=i,s.blur=e,s.repeatEdgePixels=!1,s}return r.prototype.apply=function(e,i,n,a){var s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){var u=e.getFilterTexture();this.blurXFilter.apply(e,i,u,ue.CLEAR),this.blurYFilter.apply(e,u,n,a),e.returnFilterTexture(u)}else o?this.blurYFilter.apply(e,i,n,a):this.blurXFilter.apply(e,i,n,a)},r.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(r.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),r}(Et);/*!
 * @pixi/filter-color-matrix - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Or=function(t,r){return Or=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},Or(t,r)};function Fh(t,r){Or(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Bh=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,Ur=function(t){Fh(r,t);function r(){var e=this,i={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return e=t.call(this,Aa,Bh,i)||this,e.alpha=1,e}return r.prototype._loadMatrix=function(e,i){i===void 0&&(i=!1);var n=e;i&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n},r.prototype._multiply=function(e,i,n){return e[0]=i[0]*n[0]+i[1]*n[5]+i[2]*n[10]+i[3]*n[15],e[1]=i[0]*n[1]+i[1]*n[6]+i[2]*n[11]+i[3]*n[16],e[2]=i[0]*n[2]+i[1]*n[7]+i[2]*n[12]+i[3]*n[17],e[3]=i[0]*n[3]+i[1]*n[8]+i[2]*n[13]+i[3]*n[18],e[4]=i[0]*n[4]+i[1]*n[9]+i[2]*n[14]+i[3]*n[19]+i[4],e[5]=i[5]*n[0]+i[6]*n[5]+i[7]*n[10]+i[8]*n[15],e[6]=i[5]*n[1]+i[6]*n[6]+i[7]*n[11]+i[8]*n[16],e[7]=i[5]*n[2]+i[6]*n[7]+i[7]*n[12]+i[8]*n[17],e[8]=i[5]*n[3]+i[6]*n[8]+i[7]*n[13]+i[8]*n[18],e[9]=i[5]*n[4]+i[6]*n[9]+i[7]*n[14]+i[8]*n[19]+i[9],e[10]=i[10]*n[0]+i[11]*n[5]+i[12]*n[10]+i[13]*n[15],e[11]=i[10]*n[1]+i[11]*n[6]+i[12]*n[11]+i[13]*n[16],e[12]=i[10]*n[2]+i[11]*n[7]+i[12]*n[12]+i[13]*n[17],e[13]=i[10]*n[3]+i[11]*n[8]+i[12]*n[13]+i[13]*n[18],e[14]=i[10]*n[4]+i[11]*n[9]+i[12]*n[14]+i[13]*n[19]+i[14],e[15]=i[15]*n[0]+i[16]*n[5]+i[17]*n[10]+i[18]*n[15],e[16]=i[15]*n[1]+i[16]*n[6]+i[17]*n[11]+i[18]*n[16],e[17]=i[15]*n[2]+i[16]*n[7]+i[17]*n[12]+i[18]*n[17],e[18]=i[15]*n[3]+i[16]*n[8]+i[17]*n[13]+i[18]*n[18],e[19]=i[15]*n[4]+i[16]*n[9]+i[17]*n[14]+i[18]*n[19]+i[19],e},r.prototype._colorMatrix=function(e){var i=new Float32Array(e);return i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,i},r.prototype.brightness=function(e,i){var n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,i)},r.prototype.tint=function(e,i){var n=e>>16&255,a=e>>8&255,s=e&255,o=[n/255,0,0,0,0,0,a/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,i)},r.prototype.greyscale=function(e,i){var n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,i)},r.prototype.blackAndWhite=function(e){var i=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(i,e)},r.prototype.hue=function(e,i){e=(e||0)/180*Math.PI;var n=Math.cos(e),a=Math.sin(e),s=Math.sqrt,o=1/3,u=s(o),h=n+(1-n)*o,l=o*(1-n)-u*a,d=o*(1-n)+u*a,f=o*(1-n)+u*a,c=n+o*(1-n),_=o*(1-n)-u*a,p=o*(1-n)-u*a,v=o*(1-n)+u*a,m=n+o*(1-n),T=[h,l,d,0,0,f,c,_,0,0,p,v,m,0,0,0,0,0,1,0];this._loadMatrix(T,i)},r.prototype.contrast=function(e,i){var n=(e||0)+1,a=-.5*(n-1),s=[n,0,0,0,a,0,n,0,0,a,0,0,n,0,a,0,0,0,1,0];this._loadMatrix(s,i)},r.prototype.saturate=function(e,i){e===void 0&&(e=0);var n=e*2/3+1,a=(n-1)*-.5,s=[n,a,a,0,0,a,n,a,0,0,a,a,n,0,0,0,0,0,1,0];this._loadMatrix(s,i)},r.prototype.desaturate=function(){this.saturate(-1)},r.prototype.negative=function(e){var i=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(i,e)},r.prototype.sepia=function(e){var i=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(i,e)},r.prototype.technicolor=function(e){var i=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(i,e)},r.prototype.polaroid=function(e){var i=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(i,e)},r.prototype.toBGR=function(e){var i=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(i,e)},r.prototype.kodachrome=function(e){var i=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(i,e)},r.prototype.browni=function(e){var i=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(i,e)},r.prototype.vintage=function(e){var i=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(i,e)},r.prototype.colorTone=function(e,i,n,a,s){e=e||.2,i=i||.15,n=n||16770432,a=a||3375104;var o=(n>>16&255)/255,u=(n>>8&255)/255,h=(n&255)/255,l=(a>>16&255)/255,d=(a>>8&255)/255,f=(a&255)/255,c=[.3,.59,.11,0,0,o,u,h,e,0,l,d,f,i,0,o-l,u-d,h-f,0,0];this._loadMatrix(c,s)},r.prototype.night=function(e,i){e=e||.1;var n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,i)},r.prototype.predator=function(e,i){var n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,i)},r.prototype.lsd=function(e){var i=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(i,e)},r.prototype.reset=function(){var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)},Object.defineProperty(r.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),r}(Et);Ur.prototype.grayscale=Ur.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Sr=function(t,r){return Sr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},Sr(t,r)};function Xh(t,r){Sr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Dh=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,Hh=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,Mh=function(t){Xh(r,t);function r(e,i){var n=this,a=new xt;return e.renderable=!1,n=t.call(this,Hh,Dh,{mapSampler:e._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,n.maskSprite=e,n.maskMatrix=a,i==null&&(i=20),n.scale=new Z(i,i),n}return r.prototype.apply=function(e,i,n,a){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),u=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&u!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/u,this.uniforms.rotation[3]=s.d/u),e.applyFilter(this,i,n,a)},Object.defineProperty(r.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),r}(Et);/*!
 * @pixi/filter-fxaa - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Gr=function(t,r){return Gr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},Gr(t,r)};function kh(t,r){Gr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Vh=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,jh=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,Yh=function(t){kh(r,t);function r(){return t.call(this,Vh,jh)||this}return r}(Et);/*!
 * @pixi/filter-noise - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Lr=function(t,r){return Lr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},Lr(t,r)};function zh(t,r){Lr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Wh=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,$h=function(t){zh(r,t);function r(e,i){e===void 0&&(e=.5),i===void 0&&(i=Math.random());var n=t.call(this,Aa,Wh,{uNoise:0,uSeed:0})||this;return n.noise=e,n.seed=i,n}return Object.defineProperty(r.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),r}(Et);/*!
 * @pixi/mixin-cache-as-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Kn;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Kn||(Kn={}));var Zn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Zn||(Zn={}));var Jn;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Jn||(Jn={}));var Qn;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Qn||(Qn={}));var ta;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(ta||(ta={}));var ea;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(ea||(ea={}));var ra;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(ra||(ra={}));var ia;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(ia||(ia={}));var na;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(na||(na={}));var aa;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(aa||(aa={}));var sa;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(sa||(sa={}));var oa;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(oa||(oa={}));var ha;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ha||(ha={}));var ua;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(ua||(ua={}));var la;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(la||(la={}));var fa;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(fa||(fa={}));var ca;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(ca||(ca={}));var Fr;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Fr||(Fr={}));var da;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(da||(da={}));var Ja=new xt;k.prototype._cacheAsBitmap=!1;k.prototype._cacheData=null;k.prototype._cacheAsBitmapResolution=null;k.prototype._cacheAsBitmapMultisample=Fr.NONE;var qh=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(k.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var r;t?(this._cacheData||(this._cacheData=new qh),r=this._cacheData,r.originalRender=this.render,r.originalRenderCanvas=this.renderCanvas,r.originalUpdateTransform=this.updateTransform,r.originalCalculateBounds=this.calculateBounds,r.originalGetLocalBounds=this.getLocalBounds,r.originalDestroy=this.destroy,r.originalContainsPoint=this.containsPoint,r.originalMask=this._mask,r.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(r=this._cacheData,r.sprite&&this._destroyCachedDisplayObject(),this.render=r.originalRender,this.renderCanvas=r.originalRenderCanvas,this.calculateBounds=r.originalCalculateBounds,this.getLocalBounds=r.originalGetLocalBounds,this.destroy=r.originalDestroy,this.updateTransform=r.originalUpdateTransform,this.containsPoint=r.originalContainsPoint,this._mask=r.originalMask,this.filterArea=r.originalFilterArea)}}}});k.prototype._renderCached=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(r),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(r))};k.prototype._initCachedDisplayObject=function(r){var e;if(!(this._cacheData&&this._cacheData.sprite)){var i=this.alpha;this.alpha=1,r.batch.flush();var n=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var a=this.filters[0].padding;n.pad(a)}n.ceil(K.RESOLUTION);var s=r.renderTexture.current,o=r.renderTexture.sourceFrame.clone(),u=r.renderTexture.destinationFrame.clone(),h=r.projection.transform,l=Ne.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||r.resolution,multisample:(e=this.cacheAsBitmapMultisample)!==null&&e!==void 0?e:r.multisample}),d="cacheAsBitmap_"+wa();this._cacheData.textureCacheId=d,q.addToCache(l.baseTexture,d),U.addToCache(l,d);var f=this.transform.localTransform.copyTo(Ja).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,r.render(this,{renderTexture:l,clear:!0,transform:f,skipUpdateTransform:!1}),r.framebuffer.blit(),r.projection.transform=h,r.renderTexture.bind(s,o,u),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var c=new le(l);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(n.x/n.width),c.anchor.y=-(n.y/n.height),c.alpha=i,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)}};k.prototype._renderCachedCanvas=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(r),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(r))};k.prototype._initCachedDisplayObjectCanvas=function(r){if(!(this._cacheData&&this._cacheData.sprite)){var e=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;var n=r.context,a=r._projTransform;e.ceil(K.RESOLUTION);var s=Ne.create({width:e.width,height:e.height}),o="cacheAsBitmap_"+wa();this._cacheData.textureCacheId=o,q.addToCache(s.baseTexture,o),U.addToCache(s,o);var u=Ja;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=e.x,u.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,r.render(this,{renderTexture:s,clear:!0,transform:u,skipUpdateTransform:!1}),r.context=n,r._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var h=new le(s);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(e.x/e.width),h.anchor.y=-(e.y/e.height),h.alpha=i,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=r._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}};k.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};k.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};k.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,q.removeFromCache(this._cacheData.textureCacheId),U.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};k.prototype._cacheAsBitmapDestroy=function(r){this.cacheAsBitmap=!1,this.destroy(r)};/*!
 * @pixi/mixin-get-child-by-name - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */k.prototype.name=null;ut.prototype.getChildByName=function(r,e){for(var i=0,n=this.children.length;i<n;i++)if(this.children[i].name===r)return this.children[i];if(e)for(var i=0,n=this.children.length;i<n;i++){var a=this.children[i];if(!!a.getChildByName){var s=this.children[i].getChildByName(r,!0);if(s)return s}}return null};/*!
 * @pixi/mixin-get-global-position - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */k.prototype.getGlobalPosition=function(r,e){return r===void 0&&(r=new Z),e===void 0&&(e=!1),this.parent?this.parent.toGlobal(this.position,r,e):(r.x=this.position.x,r.y=this.position.y),r};/*!
 * @pixi/mesh-extras - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Br=function(t,r){return Br=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},Br(t,r)};function jt(t,r){Br(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Kh=function(t){jt(r,t);function r(e,i,n,a){e===void 0&&(e=100),i===void 0&&(i=100),n===void 0&&(n=10),a===void 0&&(a=10);var s=t.call(this)||this;return s.segWidth=n,s.segHeight=a,s.width=e,s.height=i,s.build(),s}return r.prototype.build=function(){for(var e=this.segWidth*this.segHeight,i=[],n=[],a=[],s=this.segWidth-1,o=this.segHeight-1,u=this.width/s,h=this.height/o,l=0;l<e;l++){var d=l%this.segWidth,f=l/this.segWidth|0;i.push(d*u,f*h),n.push(d/s,f/o)}for(var c=s*o,l=0;l<c;l++){var _=l%s,p=l/s|0,v=p*this.segWidth+_,m=p*this.segWidth+_+1,T=(p+1)*this.segWidth+_,x=(p+1)*this.segWidth+_+1;a.push(v,m,T,m,x,T)}this.buffers[0].data=new Float32Array(i),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},r}(Se),Zh=function(t){jt(r,t);function r(e,i,n){e===void 0&&(e=200),n===void 0&&(n=0);var a=t.call(this,new Float32Array(i.length*4),new Float32Array(i.length*4),new Uint16Array((i.length-1)*6))||this;return a.points=i,a._width=e,a.textureScale=n,a.build(),a}return Object.defineProperty(r.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),r.prototype.build=function(){var e=this.points;if(!!e){var i=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(e.length<1)){i.data.length/4!==e.length&&(i.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),a.data=new Uint16Array((e.length-1)*6));var s=n.data,o=a.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;for(var u=0,h=e[0],l=this._width*this.textureScale,d=e.length,f=0;f<d;f++){var c=f*4;if(this.textureScale>0){var _=h.x-e[f].x,p=h.y-e[f].y,v=Math.sqrt(_*_+p*p);h=e[f],u+=v/l}else u=f/(d-1);s[c]=u,s[c+1]=0,s[c+2]=u,s[c+3]=1}for(var m=0,f=0;f<d-1;f++){var c=f*2;o[m++]=c,o[m++]=c+1,o[m++]=c+2,o[m++]=c+2,o[m++]=c+1,o[m++]=c+3}n.update(),a.update(),this.updateVertices()}}},r.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var i=e[0],n,a=0,s=0,o=this.buffers[0].data,u=e.length,h=0;h<u;h++){var l=e[h],d=h*4;h<e.length-1?n=e[h+1]:n=l,s=-(n.x-i.x),a=n.y-i.y;var f=Math.sqrt(a*a+s*s),c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=f,s/=f,a*=c,s*=c,o[d]=l.x+a,o[d+1]=l.y+s,o[d+2]=l.x-a,o[d+3]=l.y-s,i=l}this.buffers[0].update()}},r.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},r}(Se),su=function(t){jt(r,t);function r(e,i,n){n===void 0&&(n=0);var a=this,s=new Zh(e.height,i,n),o=new he(e);return n>0&&(e.baseTexture.wrapMode=kt.REPEAT),a=t.call(this,s,o)||this,a.autoUpdate=!0,a}return r.prototype._render=function(e){var i=this.geometry;(this.autoUpdate||i._width!==this.shader.texture.height)&&(i._width=this.shader.texture.height,i.update()),t.prototype._render.call(this,e)},r}(oe),Jh=function(t){jt(r,t);function r(e,i,n){var a=this,s=new Kh(e.width,e.height,i,n),o=new he(U.WHITE);return a=t.call(this,s,o)||this,a.texture=e,a.autoResize=!0,a}return r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,i=this.shader.texture,n=i.width,a=i.height;this.autoResize&&(e.width!==n||e.height!==a)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(r.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),r.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},r.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},r}(oe),ou=function(t){jt(r,t);function r(e,i,n,a,s){e===void 0&&(e=U.EMPTY);var o=this,u=new Se(i,n,a);u.getBuffer("aVertexPosition").static=!1;var h=new he(e);return o=t.call(this,u,h,null,s)||this,o.autoUpdate=!0,o}return Object.defineProperty(r.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),r.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},r}(oe),Ie=10,hu=function(t){jt(r,t);function r(e,i,n,a,s){i===void 0&&(i=Ie),n===void 0&&(n=Ie),a===void 0&&(a=Ie),s===void 0&&(s=Ie);var o=t.call(this,U.WHITE,4,4)||this;return o._origWidth=e.orig.width,o._origHeight=e.orig.height,o._width=o._origWidth,o._height=o._origHeight,o._leftWidth=i,o._rightWidth=a,o._topHeight=n,o._bottomHeight=s,o.texture=e,o}return r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(r.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),r.prototype.updateHorizontalVertices=function(){var e=this.vertices,i=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*i,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*i,e[25]=e[27]=e[29]=e[31]=this._height},r.prototype.updateVerticalVertices=function(){var e=this.vertices,i=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*i,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*i,e[6]=e[14]=e[22]=e[30]=this._width},r.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,i=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,a=this._height>n?1:this._height/n,s=Math.min(i,a);return s},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),r.prototype._refresh=function(){var e=this.texture,i=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var n=1/this._origWidth,a=1/this._origHeight;i[0]=i[8]=i[16]=i[24]=0,i[1]=i[3]=i[5]=i[7]=0,i[6]=i[14]=i[22]=i[30]=1,i[25]=i[27]=i[29]=i[31]=1,i[2]=i[10]=i[18]=i[26]=n*this._leftWidth,i[4]=i[12]=i[20]=i[28]=1-n*this._rightWidth,i[9]=i[11]=i[13]=i[15]=a*this._topHeight,i[17]=i[19]=i[21]=i[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},r}(Jh);/*!
 * @pixi/sprite-animated - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Xr=function(t,r){return Xr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},Xr(t,r)};function Qh(t,r){Xr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var uu=function(t){Qh(r,t);function r(e,i){i===void 0&&(i=!0);var n=t.call(this,e[0]instanceof U?e[0]:e[0].texture)||this;return n._textures=null,n._durations=null,n._autoUpdate=i,n._isConnectedToTicker=!1,n.animationSpeed=1,n.loop=!0,n.updateAnchor=!1,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n._playing=!1,n._previousFrame=null,n.textures=e,n}return r.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(vt.shared.remove(this.update,this),this._isConnectedToTicker=!1))},r.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(vt.shared.add(this.update,this,Ce.HIGH),this._isConnectedToTicker=!0))},r.prototype.gotoAndStop=function(e){this.stop();var i=this.currentFrame;this._currentTime=e,i!==this.currentFrame&&this.updateTexture()},r.prototype.gotoAndPlay=function(e){var i=this.currentFrame;this._currentTime=e,i!==this.currentFrame&&this.updateTexture(),this.play()},r.prototype.update=function(e){if(!!this._playing){var i=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=i/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=i;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n?this.onLoop():this.animationSpeed<0&&this.currentFrame>n&&this.onLoop()),this.updateTexture())}},r.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},r.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},r.fromFrames=function(e){for(var i=[],n=0;n<e.length;++n)i.push(U.from(e[n]));return new r(i)},r.fromImages=function(e){for(var i=[],n=0;n<e.length;++n)i.push(U.from(e[n]));return new r(i)},Object.defineProperty(r.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof U)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var i=0;i<e.length;i++)this._textures.push(e[i].texture),this._durations.push(e[i].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(vt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(vt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),r}(le);/*!
 * pixi.js - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ct.registerPlugin("accessibility",Gs);Ct.registerPlugin("extract",Ws);Ct.registerPlugin("interaction",Ds);Ct.registerPlugin("particle",Go);Ct.registerPlugin("prepare",ah);Ct.registerPlugin("batch",fs);Ct.registerPlugin("tilingSprite",ch);lt.registerPlugin(Eh);lt.registerPlugin(uo);lt.registerPlugin(Co);lt.registerPlugin(Oo);lt.registerPlugin(oh);Vr.registerPlugin(cs);Vr.registerPlugin(eo);var lu="6.4.2",fu={AlphaFilter:Ah,BlurFilter:Lh,BlurFilterPass:wr,ColorMatrixFilter:Ur,DisplacementFilter:Mh,FXAAFilter:Yh,NoiseFilter:$h};export{pu as ALPHA_MODES,_u as AbstractBatchRenderer,vu as AbstractMultiResource,mu as AbstractRenderer,Gs as AccessibilityManager,uu as AnimatedSprite,eo as AppLoaderPlugin,Vr as Application,gu as ArrayResource,yu as Attribute,Tu as BLEND_MODES,bu as BUFFER_BITS,xu as BUFFER_TYPE,Iu as BaseImageResource,rh as BasePrepare,Pu as BaseRenderTexture,Ru as BaseTexture,Eu as BatchDrawCall,Cu as BatchGeometry,Nu as BatchPluginFactory,Au as BatchRenderer,wu as BatchShaderGenerator,Ou as BatchSystem,Uu as BatchTextureArray,Ft as BitmapFont,Oe as BitmapFontData,Eh as BitmapFontLoader,au as BitmapText,ho as BlobResource,re as Bounds,Su as Buffer,Gu as BufferResource,Lu as CLEAR_MODES,Fu as CanvasResource,Bu as Circle,uo as CompressedTextureLoader,pr as CompressedTextureResource,ut as Container,Xu as ContextSystem,$o as CountLimiter,Du as CubeResource,Co as DDSLoader,Hu as DEG_TO_RAD,Mu as DRAW_MODES,k as DisplayObject,ku as ENV,Vu as Ellipse,Ws as Extract,ju as FORMATS,Ao as FORMATS_TO_COMPONENTS,Ha as FillStyle,Yu as Filter,zu as FilterState,Wu as FilterSystem,$u as Framebuffer,qu as FramebufferSystem,Ku as GC_MODES,Zu as GLFramebuffer,Ju as GLProgram,Qu as GLTexture,ne as GRAPHICS_CURVES,tl as Geometry,el as GeometrySystem,we as Graphics,Cn as GraphicsData,Xo as GraphicsGeometry,rl as IGLUniformData,il as INSTALLED,S as INTERNAL_FORMATS,Ae as INTERNAL_FORMAT_TO_BYTES_PER_PIXEL,nl as ImageBitmapResource,al as ImageResource,Pi as InteractionData,Fs as InteractionEvent,Ds as InteractionManager,Xe as InteractionTrackingData,Oo as KTXLoader,Tt as LINE_CAP,yt as LINE_JOIN,Do as LineStyle,lt as Loader,H as LoaderResource,sl as MASK_TYPES,ol as MIPMAP_MODES,hl as MSAA_QUALITY,ul as MaskData,ll as MaskSystem,fl as Matrix,oe as Mesh,dh as MeshBatchUvs,Se as MeshGeometry,he as MeshMaterial,hu as NineSlicePlane,cl as ObjectRenderer,dl as ObservablePoint,pl as PI_2,_l as PRECISION,eu as ParticleContainer,Go as ParticleRenderer,Kh as PlaneGeometry,vl as Point,ml as Polygon,ah as Prepare,gl as Program,yl as ProjectionSystem,Tl as Quad,bl as QuadUv,xl as RAD_TO_DEG,Il as RENDERER_TYPE,Pl as Rectangle,Rl as RenderTexture,El as RenderTexturePool,Cl as RenderTextureSystem,Nl as Renderer,Al as Resource,Zh as RopeGeometry,wl as RoundedRectangle,Ol as Runner,Ul as SAMPLER_TYPES,Sl as SCALE_MODES,Gl as SHAPES,Ll as SVGResource,Fl as ScissorSystem,Bl as Shader,Xl as ShaderSystem,ou as SimpleMesh,Jh as SimplePlane,su as SimpleRope,le as Sprite,Dl as SpriteMaskFilter,sh as Spritesheet,oh as SpritesheetLoader,Hl as State,Ml as StateSystem,kl as StencilSystem,Vl as System,jl as TARGETS,se as TEXT_GRADIENT,Yl as TYPES,In as TYPES_TO_BYTES_PER_COMPONENT,wo as TYPES_TO_BYTES_PER_PIXEL,Ga as TemporaryDisplayObject,za as Text,ft as TextMetrics,Vt as TextStyle,zl as Texture,Wl as TextureGCSystem,ro as TextureLoader,$l as TextureMatrix,ql as TextureSystem,Kl as TextureUvs,Zl as Ticker,Jl as TickerPlugin,nu as TilingSprite,ch as TilingSpriteRenderer,iu as TimeLimiter,Ql as Transform,tf as UPDATE_PRIORITY,ef as UniformGroup,lu as VERSION,rf as VideoResource,nf as ViewableBuffer,af as WRAP_MODES,Cs as accessibleTarget,sf as autoDetectRenderer,of as autoDetectResource,hf as checkMaxIfStatementsInShader,uf as createUBOElements,lf as defaultFilterVertex,ff as defaultVertex,fu as filters,cf as generateProgram,df as generateUniformBufferSync,pf as getTestContext,_f as getUBOData,ru as graphicsUtils,vf as groupD8,Xs as interactiveTarget,mf as isMobile,gf as resources,yf as settings,Tf as systems,bf as uniformParsers,xf as utils};
